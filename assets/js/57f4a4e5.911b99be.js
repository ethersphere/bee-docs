(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{124:function(e,t,a){"use strict";a.d(t,"a",(function(){return p})),a.d(t,"b",(function(){return m}));var n=a(0),o=a.n(n);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function c(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?c(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):c(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function s(e,t){if(null==e)return{};var a,n,o=function(e,t){if(null==e)return{};var a,n,o={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(o[a]=e[a]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(o[a]=e[a])}return o}var b=o.a.createContext({}),l=function(e){var t=o.a.useContext(b),a=t;return e&&(a="function"==typeof e?e(t):i(i({},t),e)),a},p=function(e){var t=l(e.components);return o.a.createElement(b.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return o.a.createElement(o.a.Fragment,{},t)}},h=o.a.forwardRef((function(e,t){var a=e.components,n=e.mdxType,r=e.originalType,c=e.parentName,b=s(e,["components","mdxType","originalType","parentName"]),p=l(a),h=n,m=p["".concat(c,".").concat(h)]||p[h]||u[h]||r;return a?o.a.createElement(m,i(i({ref:t},b),{},{components:a})):o.a.createElement(m,i({ref:t},b))}));function m(e,t){var a=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var r=a.length,c=new Array(r);c[0]=h;var i={};for(var s in t)hasOwnProperty.call(t,s)&&(i[s]=t[s]);i.originalType=e,i.mdxType="string"==typeof e?e:n,c[1]=i;for(var b=2;b<r;b++)c[b]=a[b];return o.a.createElement.apply(null,c)}return o.a.createElement.apply(null,a)}h.displayName="MDXCreateElement"},91:function(e,t,a){"use strict";a.r(t),a.d(t,"frontMatter",(function(){return c})),a.d(t,"metadata",(function(){return i})),a.d(t,"toc",(function(){return s})),a.d(t,"default",(function(){return l}));var n=a(3),o=a(7),r=(a(0),a(124)),c={title:"Keep Your Data Alive",id:"keep-your-data-alive"},i={unversionedId:"access-the-swarm/keep-your-data-alive",id:"access-the-swarm/keep-your-data-alive",isDocsHomePage:!1,title:"Keep Your Data Alive",description:"The swarm comprises the sum total of all storage space provided by all of our nodes, called the DISC (Distributed Immutable Store of Chunks). The right to write data into this distributed store is determined by the postage stamps that have attached.",source:"@site/docs/access-the-swarm/keep-your-data-alive.md",slug:"/access-the-swarm/keep-your-data-alive",permalink:"/docs/access-the-swarm/keep-your-data-alive",editUrl:"https://github.com/ethersphere/docs.github.io/blob/master/docs/access-the-swarm/keep-your-data-alive.md",version:"current",sidebar:"Balls",previous:{title:"Track Upload Status",permalink:"/docs/access-the-swarm/syncing"},next:{title:"Pinning",permalink:"/docs/access-the-swarm/pinning"}},s=[{value:"Fund your node&#39;s wallet.",id:"fund-your-nodes-wallet",children:[]},{value:"Purchase a Batch of Stamps",id:"purchase-a-batch-of-stamps",children:[{value:"Amount",id:"amount",children:[]},{value:"Batch Depth",id:"batch-depth",children:[]},{value:"Calculating the Depth and Amount of Your Batch of Stamps",id:"calculating-the-depth-and-amount-of-your-batch-of-stamps",children:[]},{value:"Calculating the Remaining Balance of Your Batch",id:"calculating-the-remaining-balance-of-your-batch",children:[]}]}],b={toc:s};function l(e){var t=e.components,a=Object(o.a)(e,["components"]);return Object(r.b)("wrapper",Object(n.a)({},b,a,{components:t,mdxType:"MDXLayout"}),Object(r.b)("p",null,"The swarm comprises the sum total of all storage space provided by all of our nodes, called the DISC (Distributed Immutable Store of Chunks). The ",Object(r.b)("em",{parentName:"p"},"right to write")," data into this distributed store is determined by the postage stamps that have attached."),Object(r.b)("h3",{id:"fund-your-nodes-wallet"},"Fund your node's wallet."),Object(r.b)("p",null,"To start up your node, you will already have provided your node with gETH for gas and gBZZ which was transferred into your chequebook when your node was initialised and will be used to interact with other nodes using the ",Object(r.b)("em",{parentName:"p"},"SWAP")," protocol. In order to access more funds to buy batches of stamps, go to the ",Object(r.b)("a",Object(n.a)({parentName:"p"},{href:"https://discord.gg/kfKvmZfVfe"}),"#faucet")," channel on our ",Object(r.b)("a",Object(n.a)({parentName:"p"},{href:"https://discord.gg/wdghaQsGq5"}),"Discord Server"),"."),Object(r.b)("p",null,Object(r.b)("inlineCode",{parentName:"p"},"/faucet stamps 0xabeecde123...")),Object(r.b)("p",null,"You must ",Object(r.b)("em",{parentName:"p"},"type")," the commands, copy and paste will not work."),Object(r.b)("h2",{id:"purchase-a-batch-of-stamps"},"Purchase a Batch of Stamps"),Object(r.b)("p",null,"Stamps are created in batches, so that storer nodes may calculate the validity of a chunk's stamp with only local knowledge. This enables the privacy you enjoy in the swarm."),Object(r.b)("p",null,"Stamp batches are created in ",Object(r.b)("em",{parentName:"p"},"buckets")," with ",Object(r.b)("em",{parentName:"p"},"depth")," 16. The entire swarm ",Object(r.b)("em",{parentName:"p"},"address space")," is divided into into 2^16 = 65,536 different buckets. When uploaded, each of your file's are split into 4kb chunks is assigned to a specific bucket based on its address."),Object(r.b)("p",null,"When creating a batch you must specify two values, ",Object(r.b)("em",{parentName:"p"},"batch depth")," and ",Object(r.b)("em",{parentName:"p"},"amount"),"."),Object(r.b)("h3",{id:"amount"},"Amount"),Object(r.b)("p",null,"The ",Object(r.b)("em",{parentName:"p"},"amount")," represents the quantity of gBZZ that is assigned to this batch. The total amount of gBZZ that will be paid for the batch is calulated from this figure and the ",Object(r.b)("em",{parentName:"p"},"batch depth"),"."),Object(r.b)("p",null,"The paid amount forms the ",Object(r.b)("em",{parentName:"p"},"balance")," of the ",Object(r.b)("em",{parentName:"p"},"batch"),". This ",Object(r.b)("em",{parentName:"p"},"balance")," is then slowly depleted as time ticks on and ",Object(r.b)("em",{parentName:"p"},"blocks")," are mined on the Goerli blockchain."),Object(r.b)("h3",{id:"batch-depth"},"Batch Depth"),Object(r.b)("p",null,"The ",Object(r.b)("em",{parentName:"p"},"batch depth")," determines ",Object(r.b)("em",{parentName:"p"},"how many chunks")," are allowed to be in each ",Object(r.b)("em",{parentName:"p"},"bucket"),". The number of chunks allowed in each ",Object(r.b)("em",{parentName:"p"},"bucket")," is calculated to be a ",Object(r.b)("inlineCode",{parentName:"p"},"2^(batch depth - bucket depth) = 2^(batch depth - 16)"),"."),Object(r.b)("h3",{id:"calculating-the-depth-and-amount-of-your-batch-of-stamps"},"Calculating the Depth and Amount of Your Batch of Stamps"),Object(r.b)("p",null,Object(r.b)("em",{parentName:"p"},"Postage Stamps")," are a brand new feature addition to Swarm, and it's early days in the conception of how to get the best out of the stamp batches."),Object(r.b)("p",null,"Right now, the easiest way to start uploading content, is to buy a large enough batch so that it is incredibly unlikely you will end up with too many ",Object(r.b)("em",{parentName:"p"},"chunks")," falling into the same ",Object(r.b)("em",{parentName:"p"},"bucket"),"."),Object(r.b)("p",null,"The ",Object(r.b)("em",{parentName:"p"},"amount")," you specify will determine the amount of time your chunks live in the swarm. Because pricing is variable, it is not possible to predict with accuracy exactly when your chunks will run out of balance, however, it can be estimated based on the ",Object(r.b)("em",{parentName:"p"},"current price")," and the ",Object(r.b)("em",{parentName:"p"},"remaining batch balance"),"."),Object(r.b)("p",null,"For now, we suggest you specify depth 20 and amount 10000000 for your batches. This should be ample to upload up quite some data, and to keep your files in the Swarm for the forseeable future."),Object(r.b)("div",{className:"admonition admonition-warning alert alert--danger"},Object(r.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-heading"}),Object(r.b)("h5",{parentName:"div"},Object(r.b)("span",Object(n.a)({parentName:"h5"},{className:"admonition-icon"}),Object(r.b)("svg",Object(n.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"}),Object(r.b)("path",Object(n.a)({parentName:"svg"},{fillRule:"evenodd",d:"M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"})))),"warning")),Object(r.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-content"}),Object(r.b)("p",{parentName:"div"},"When you purchase a batch of stamps, you agree to burn gBZZ. Although your 'balance' slowly decrements as time goes on, there is no way to withdraw gBZZ from a batch. This is an outcome of Swarm's decentralised design, to read more about how the swarm fits together, read ",Object(r.b)("a",{href:"/the-book-of-swarm-viktor-tron-v1.0-pre-release7.pdf",target:"_blank",rel:"noopener noreferrer"},"The Book of Swarm")," ."))),Object(r.b)("pre",null,Object(r.b)("code",Object(n.a)({parentName:"pre"},{className:"language-bash"}),"curl -s -XPOST http://localhost:1633/stamps/10000000/20\n")),Object(r.b)("div",{className:"admonition admonition-info alert alert--info"},Object(r.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-heading"}),Object(r.b)("h5",{parentName:"div"},Object(r.b)("span",Object(n.a)({parentName:"h5"},{className:"admonition-icon"}),Object(r.b)("svg",Object(n.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(r.b)("path",Object(n.a)({parentName:"svg"},{fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"})))),"info")),Object(r.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-content"}),Object(r.b)("p",{parentName:"div"},"Once your batch has been purchased, it will take a few minutes for other Bee nodes in the swarm to catch up and register your batch. Allow some time for your batch to propogate to the network before proceeding to the next step."))),Object(r.b)("p",null,"Look out for more ways to more accurately estimate the correct size of your batch coming soon!"),Object(r.b)("h3",{id:"calculating-the-remaining-balance-of-your-batch"},"Calculating the Remaining Balance of Your Batch"),Object(r.b)("p",null,"In order to make sure your ",Object(r.b)("em",{parentName:"p"},"batch")," has sufficient ",Object(r.b)("em",{parentName:"p"},"remaining balance")," to be stored and served by nodes in its ",Object(r.b)("em",{parentName:"p"},"neighbourhood of responsibility"),", you must regularly check on its ",Object(r.b)("em",{parentName:"p"},"balance")," and act accordingly. "),Object(r.b)("pre",null,Object(r.b)("code",Object(n.a)({parentName:"pre"},{className:"language-bash"}),"curl localhost:1635/chainstate\n")),Object(r.b)("p",null,"Shows the current price per chunk per block in GPLUR, the smallest unit of GBZZ."),Object(r.b)("p",null,"Soon, functionality will be added to ",Object(r.b)("em",{parentName:"p"},"top up")," your batches balance. For now, you must reupload content with a newly created ",Object(r.b)("em",{parentName:"p"},"stamp batch id"),"."))}l.isMDXComponent=!0}}]);