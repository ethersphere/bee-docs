"use strict";(self.webpackChunkbee_docs=self.webpackChunkbee_docs||[]).push([[3829],{28453:(e,n,t)=>{t.d(n,{R:()=>o,x:()=>s});var a=t(96540);const i={},r=a.createContext(i);function o(e){const n=a.useContext(r);return a.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),a.createElement(r.Provider,{value:n},e.children)}},65537:(e,n,t)=>{t.d(n,{A:()=>v});var a=t(96540),i=t(34164),r=t(65627),o=t(56347),s=t(50372),l=t(30604),d=t(11861),c=t(78749);function u(e){return a.Children.toArray(e).filter((e=>"\n"!==e)).map((e=>{if(!e||(0,a.isValidElement)(e)&&function(e){const{props:n}=e;return!!n&&"object"==typeof n&&"value"in n}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}function h(e){const{values:n,children:t}=e;return(0,a.useMemo)((()=>{const e=n??function(e){return u(e).map((e=>{let{props:{value:n,label:t,attributes:a,default:i}}=e;return{value:n,label:t,attributes:a,default:i}}))}(t);return function(e){const n=(0,d.XI)(e,((e,n)=>e.value===n.value));if(n.length>0)throw new Error(`Docusaurus error: Duplicate values "${n.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[n,t])}function p(e){let{value:n,tabValues:t}=e;return t.some((e=>e.value===n))}function g(e){let{queryString:n=!1,groupId:t}=e;const i=(0,o.W6)(),r=function(e){let{queryString:n=!1,groupId:t}=e;if("string"==typeof n)return n;if(!1===n)return null;if(!0===n&&!t)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return t??null}({queryString:n,groupId:t});return[(0,l.aZ)(r),(0,a.useCallback)((e=>{if(!r)return;const n=new URLSearchParams(i.location.search);n.set(r,e),i.replace({...i.location,search:n.toString()})}),[r,i])]}function f(e){const{defaultValue:n,queryString:t=!1,groupId:i}=e,r=h(e),[o,l]=(0,a.useState)((()=>function(e){let{defaultValue:n,tabValues:t}=e;if(0===t.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(n){if(!p({value:n,tabValues:t}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${n}" but none of its children has the corresponding value. Available values are: ${t.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return n}const a=t.find((e=>e.default))??t[0];if(!a)throw new Error("Unexpected error: 0 tabValues");return a.value}({defaultValue:n,tabValues:r}))),[d,u]=g({queryString:t,groupId:i}),[f,m]=function(e){let{groupId:n}=e;const t=function(e){return e?`docusaurus.tab.${e}`:null}(n),[i,r]=(0,c.Dv)(t);return[i,(0,a.useCallback)((e=>{t&&r.set(e)}),[t,r])]}({groupId:i}),b=(()=>{const e=d??f;return p({value:e,tabValues:r})?e:null})();(0,s.A)((()=>{b&&l(b)}),[b]);return{selectedValue:o,selectValue:(0,a.useCallback)((e=>{if(!p({value:e,tabValues:r}))throw new Error(`Can't select invalid tab value=${e}`);l(e),u(e),m(e)}),[u,m,r]),tabValues:r}}var m=t(9136);const b={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var y=t(74848);function x(e){let{className:n,block:t,selectedValue:a,selectValue:o,tabValues:s}=e;const l=[],{blockElementScrollPositionUntilNextRender:d}=(0,r.a_)(),c=e=>{const n=e.currentTarget,t=l.indexOf(n),i=s[t].value;i!==a&&(d(n),o(i))},u=e=>{let n=null;switch(e.key){case"Enter":c(e);break;case"ArrowRight":{const t=l.indexOf(e.currentTarget)+1;n=l[t]??l[0];break}case"ArrowLeft":{const t=l.indexOf(e.currentTarget)-1;n=l[t]??l[l.length-1];break}}n?.focus()};return(0,y.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,i.A)("tabs",{"tabs--block":t},n),children:s.map((e=>{let{value:n,label:t,attributes:r}=e;return(0,y.jsx)("li",{role:"tab",tabIndex:a===n?0:-1,"aria-selected":a===n,ref:e=>{l.push(e)},onKeyDown:u,onClick:c,...r,className:(0,i.A)("tabs__item",b.tabItem,r?.className,{"tabs__item--active":a===n}),children:t??n},n)}))})}function w(e){let{lazy:n,children:t,selectedValue:r}=e;const o=(Array.isArray(t)?t:[t]).filter(Boolean);if(n){const e=o.find((e=>e.props.value===r));return e?(0,a.cloneElement)(e,{className:(0,i.A)("margin-top--md",e.props.className)}):null}return(0,y.jsx)("div",{className:"margin-top--md",children:o.map(((e,n)=>(0,a.cloneElement)(e,{key:n,hidden:e.props.value!==r})))})}function j(e){const n=f(e);return(0,y.jsxs)("div",{className:(0,i.A)("tabs-container",b.tabList),children:[(0,y.jsx)(x,{...n,...e}),(0,y.jsx)(w,{...n,...e})]})}function v(e){const n=(0,m.A)();return(0,y.jsx)(j,{...e,children:u(e.children)},String(n))}},75373:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>d,default:()=>p,frontMatter:()=>l,metadata:()=>a,toc:()=>u});const a=JSON.parse('{"id":"bee/working-with-bee/configuration","title":"Configuration","description":"Configuration Methods and Priority","source":"@site/docs/bee/working-with-bee/configuration.md","sourceDirName":"bee/working-with-bee","slug":"/bee/working-with-bee/configuration","permalink":"/docs/bee/working-with-bee/configuration","draft":false,"unlisted":false,"editUrl":"https://github.com/ethersphere/docs.github.io/blob/master/docs/bee/working-with-bee/configuration.md","tags":[],"version":"current","frontMatter":{"title":"Configuration","id":"configuration"},"sidebar":"bee","previous":{"title":"Introduction","permalink":"/docs/bee/working-with-bee/introduction"},"next":{"title":"Node Types","permalink":"/docs/bee/working-with-bee/node-types"}}');var i=t(74848),r=t(28453),o=t(65537),s=t(79329);const l={title:"Configuration",id:"configuration"},d=void 0,c={},u=[{value:"Configuration Methods and Priority",id:"configuration-methods-and-priority",level:2},{value:"Command Line Arguments",id:"command-line-arguments",level:3},{value:"Environment variables",id:"environment-variables",level:3},{value:"YAML configuration file",id:"yaml-configuration-file",level:3},{value:"Manually generating YAML config file for <em>bee start</em>",id:"manually-generating-yaml-config-file-for-bee-start",level:2},{value:"Node Types",id:"node-types",level:2},{value:"How to Set Node Type",id:"how-to-set-node-type",level:3},{value:"Configuration Examples",id:"configuration-examples",level:2},{value:"Full Node Configuration",id:"full-node-configuration",level:3},{value:"Using Command-Line Arguments",id:"using-command-line-arguments",level:4},{value:"Using Environment Variables",id:"using-environment-variables",level:4},{value:"Using YAML Configuration",id:"using-yaml-configuration",level:4},{value:"Light Node Configuration",id:"light-node-configuration",level:3},{value:"Using Command-Line Arguments",id:"using-command-line-arguments-1",level:4},{value:"Using Environment Variables",id:"using-environment-variables-1",level:4},{value:"Using YAML Configuration",id:"using-yaml-configuration-1",level:4},{value:"Ultra-Light Node Configuration",id:"ultra-light-node-configuration",level:3},{value:"Using Command-Line Arguments",id:"using-command-line-arguments-2",level:4},{value:"Using Environment Variables",id:"using-environment-variables-2",level:4},{value:"Using YAML Configuration",id:"using-yaml-configuration-2",level:4},{value:"Default Data and Config Directories",id:"default-data-and-config-directories",level:2},{value:"Bee Service Default Directories (Package Manager Install)",id:"bee-service-default-directories-package-manager-install",level:3},{value:"Shell Script Install Default Directories",id:"shell-script-install-default-directories",level:3},{value:"Create Password",id:"create-password",level:2},{value:"Setting Blockchain RPC endpoint",id:"setting-blockchain-rpc-endpoint",level:2},{value:"Configuring Swap Initial Deposit (Optional)",id:"configuring-swap-initial-deposit-optional",level:2},{value:"Configuring Swap Initial Deposit (Optional)",id:"configuring-swap-initial-deposit-optional-1",level:2},{value:"NAT address",id:"nat-address",level:2},{value:"ENS Resolution (Optional)",id:"ens-resolution-optional",level:2},{value:"Sepolia Testnet Configuration",id:"sepolia-testnet-configuration",level:2},{value:"Funding Testnet Node",id:"funding-testnet-node",level:3}];function h(e){const n={a:"a",admonition:"admonition",code:"code",em:"em",h2:"h2",h3:"h3",h4:"h4",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h2,{id:"configuration-methods-and-priority",children:"Configuration Methods and Priority"}),"\n",(0,i.jsx)(n.p,{children:"There are three configuration methods, each with a different priority level. Configuration is processed in the following ascending order of preference:"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"Command Line Flags"}),"\n",(0,i.jsx)(n.li,{children:"Environment Variables"}),"\n",(0,i.jsx)(n.li,{children:"YAML Configuration File"}),"\n"]}),"\n",(0,i.jsxs)(n.admonition,{type:"info",children:[(0,i.jsxs)(n.p,{children:["All three methods may be used when running Bee using ",(0,i.jsx)(n.code,{children:"bee start"}),"."]}),(0,i.jsxs)(n.p,{children:["However when Bee is started as a service with tools like ",(0,i.jsx)(n.code,{children:"systemctl"})," or ",(0,i.jsx)(n.code,{children:"brew services"}),", only the YAML configuration file is supported by default."]})]}),"\n",(0,i.jsx)(n.h3,{id:"command-line-arguments",children:"Command Line Arguments"}),"\n",(0,i.jsxs)(n.p,{children:["Run ",(0,i.jsx)(n.code,{children:"bee start --help"})," in your terminal to list the available command-line arguments:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'Start a Swarm node\n\nUsage:\n  bee start [flags]\n\nFlags:\n      --allow-private-cidrs                      allow to advertise private CIDRs to the public network\n      --api-addr string                          HTTP API listen address (default "127.0.0.1:1633")\n      --block-time uint                          chain block time (default 15)\n      --blockchain-rpc-endpoint string           rpc blockchain endpoint\n      --bootnode strings                         initial nodes to connect to\n      --bootnode-mode                            cause the node to always accept incoming connections\n      --cache-capacity uint                      cache capacity in chunks, multiply by 4096 to get approximate capacity in bytes (default 1000000)\n      --cache-retrieval                          enable forwarded content caching (default true)\n      --chequebook-enable                        enable chequebook (default true)\n      --cors-allowed-origins strings             origins with CORS headers enabled\n      --data-dir string                          data directory (default "/home/noah/.bee")\n      --db-block-cache-capacity uint             size of block cache of the database in bytes (default 33554432)\n      --db-disable-seeks-compaction              disables db compactions triggered by seeks (default true)\n      --db-open-files-limit uint                 number of open files allowed by database (default 200)\n      --db-write-buffer-size uint                size of the database write buffer in bytes (default 33554432)\n      --full-node                                cause the node to start in full mode\n  -h, --help                                     help for start\n      --mainnet                                  triggers connect to main net bootnodes. (default true)\n      --nat-addr string                          NAT exposed address\n      --neighborhood-suggester string            suggester for target neighborhood (default "https://api.swarmscan.io/v1/network/neighborhoods/suggestion")\n      --network-id uint                          ID of the Swarm network (default 1)\n      --p2p-addr string                          P2P listen address (default ":1634")\n      --p2p-ws-enable                            enable P2P WebSocket transport\n      --password string                          password for decrypting keys\n      --password-file string                     path to a file that contains password for decrypting keys\n      --payment-early-percent int                percentage below the peers payment threshold when we initiate settlement (default 50)\n      --payment-threshold string                 threshold in BZZ where you expect to get paid from your peers (default "13500000")\n      --payment-tolerance-percent int            excess debt above payment threshold in percentages where you disconnect from your peer (default 25)\n      --postage-stamp-address string             postage stamp contract address\n      --postage-stamp-start-block uint           postage stamp contract start block number\n      --pprof-mutex                              enable pprof mutex profile\n      --pprof-profile                            enable pprof block profile\n      --price-oracle-address string              price oracle contract address\n      --redistribution-address string            redistribution contract address\n      --resolver-options strings                 ENS compatible API endpoint for a TLD and with contract address, can be repeated, format [tld:][contract-addr@]url\n      --resync                                   forces the node to resync postage contract data\n      --staking-address string                   staking contract address\n      --statestore-cache-capacity uint           lru memory caching capacity in number of statestore entries (default 100000)\n      --static-nodes strings                     protect nodes from getting kicked out on bootnode\n      --storage-incentives-enable                enable storage incentives feature (default true)\n      --swap-deployment-gas-price string         gas price in wei to use for deployment and funding\n      --swap-enable                              enable swap\n      --swap-endpoint string                     swap blockchain endpoint\n      --swap-factory-address string              swap factory addresses\n      --swap-initial-deposit string              initial deposit if deploying a new chequebook (default "0")\n      --target-neighborhood string               neighborhood to target in binary format (ex: 111111001) for mining the initial overlay\n      --token-encryption-key string              admin username to get the security token\n      --tracing-enable                           enable tracing\n      --tracing-endpoint string                  endpoint to send tracing data (default "127.0.0.1:6831")\n      --tracing-host string                      host to send tracing data\n      --tracing-port string                      port to send tracing data\n      --tracing-service-name string              service name identifier for tracing (default "bee")\n      --use-postage-snapshot                     bootstrap node using postage snapshot from the network\n      --verbosity string                         log verbosity level 0=silent, 1=error, 2=warn, 3=info, 4=debug, 5=trace (default "info")\n      --warmup-time duration                     time to warmup the node before some major protocols can be kicked off (default 5m0s)\n      --welcome-message string                   send a welcome message string during handshakes\n      --withdrawal-addresses-whitelist strings   withdrawal target addresses\n\nGlobal Flags:\n      --config string   config file (default is $HOME/.bee.yaml)  \n'})}),"\n",(0,i.jsx)(n.h3,{id:"environment-variables",children:"Environment variables"}),"\n",(0,i.jsx)(n.p,{children:"Bee configuration can also be set using environment variables."}),"\n",(0,i.jsx)(n.p,{children:"Environment variables are set as variables in your operating system's\nsession or systemd configuration file. To set an environment variable,\ntype the following in your terminal session."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"export VARIABLE_NAME=variableValue\n"})}),"\n",(0,i.jsxs)(n.p,{children:["Verify that it is correctly set by running ",(0,i.jsx)(n.code,{children:"echo $VARIABLE_NAME"}),"."]}),"\n",(0,i.jsxs)(n.p,{children:["All available configuration options are available as ",(0,i.jsx)(n.code,{children:"BEE"})," prefixed,\ncapitalised, and underscored environment variables, e.g. ",(0,i.jsx)(n.code,{children:"--api-addr"})," becomes ",(0,i.jsx)(n.code,{children:"BEE_API_ADDR"}),"."]}),"\n",(0,i.jsx)(n.h3,{id:"yaml-configuration-file",children:"YAML configuration file"}),"\n",(0,i.jsxs)(n.p,{children:["You can view the default contents of the ",(0,i.jsx)(n.code,{children:"bee.yaml"})," configuration file using the ",(0,i.jsx)(n.code,{children:"bee printconfig"})," command:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"bee printconfig\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:'# allow to advertise private CIDRs to the public network\nallow-private-cidrs: false\n# HTTP API listen address\napi-addr: 127.0.0.1:1633\n# chain block time\nblock-time: "15"\n# rpc blockchain endpoint\nblockchain-rpc-endpoint: ""\n# initial nodes to connect to\nbootnode: []\n# cause the node to always accept incoming connections\nbootnode-mode: false\n# cache capacity in chunks, multiply by 4096 to get approximate capacity in bytes\ncache-capacity: "1000000"\n# enable forwarded content caching\ncache-retrieval: true\n# enable chequebook\nchequebook-enable: true\n# config file (default is $HOME/.bee.yaml)\nconfig: /root/.bee.yaml\n# origins with CORS headers enabled\ncors-allowed-origins: []\n# data directory\ndata-dir: /root/.bee\n# size of block cache of the database in bytes\ndb-block-cache-capacity: "33554432"\n# disables db compactions triggered by seeks\ndb-disable-seeks-compaction: true\n# number of open files allowed by database\ndb-open-files-limit: "200"\n# size of the database write buffer in bytes\ndb-write-buffer-size: "33554432"\n# cause the node to start in full mode\nfull-node: false\n# help for printconfig\nhelp: false\n# triggers connect to main net bootnodes.\nmainnet: true\n# NAT exposed address\nnat-addr: ""\n# suggester for target neighborhood\nneighborhood-suggester: https://api.swarmscan.io/v1/network/neighborhoods/suggestion\n# ID of the Swarm network\nnetwork-id: "1"\n# P2P listen address\np2p-addr: :1634\n# enable P2P WebSocket transport\np2p-ws-enable: false\n# password for decrypting keys\npassword: ""\n# path to a file that contains password for decrypting keys\npassword-file: ""\n# percentage below the peers payment threshold when we initiate settlement\npayment-early-percent: 50\n# threshold in BZZ where you expect to get paid from your peers\npayment-threshold: "13500000"\n# excess debt above payment threshold in percentages where you disconnect from your peer\npayment-tolerance-percent: 25\n# postage stamp contract address\npostage-stamp-address: ""\n# postage stamp contract start block number\npostage-stamp-start-block: "0"\n# enable pprof mutex profile\npprof-mutex: false\n# enable pprof block profile\npprof-profile: false\n# price oracle contract address\nprice-oracle-address: ""\n# redistribution contract address\nredistribution-address: ""\n# ENS compatible API endpoint for a TLD and with contract address, can be repeated, format [tld:][contract-addr@]url\nresolver-options: []\n# forces the node to resync postage contract data\nresync: false\n# staking contract address\nstaking-address: ""\n# lru memory caching capacity in number of statestore entries\nstatestore-cache-capacity: "100000"\n# protect nodes from getting kicked out on bootnode\nstatic-nodes: []\n# enable storage incentives feature\nstorage-incentives-enable: true\n# gas price in wei to use for deployment and funding\nswap-deployment-gas-price: ""\n# enable swap\nswap-enable: false\n# swap blockchain endpoint\nswap-endpoint: ""\n# swap factory addresses\nswap-factory-address: ""\n# initial deposit if deploying a new chequebook\nswap-initial-deposit: "0"\n# neighborhood to target in binary format (ex: 111111001) for mining the initial overlay\ntarget-neighborhood: ""\n# enable tracing\ntracing-enable: false\n# endpoint to send tracing data\ntracing-endpoint: 127.0.0.1:6831\n# host to send tracing data\ntracing-host: ""\n# port to send tracing data\ntracing-port: ""\n# service name identifier for tracing\ntracing-service-name: bee\n# bootstrap node using postage snapshot from the network\nuse-postage-snapshot: false\n# log verbosity level 0=silent, 1=error, 2=warn, 3=info, 4=debug, 5=trace\nverbosity: info\n# time to warmup the node before some major protocols can be kicked off\nwarmup-time: 5m0s\n# send a welcome message string during handshakes\nwelcome-message: ""\n# withdrawal target addresses\nwithdrawal-addresses-whitelist: []\n'})}),"\n",(0,i.jsx)(n.admonition,{type:"info",children:(0,i.jsxs)(n.p,{children:["Note that depending on whether Bee is started directly with the ",(0,i.jsx)(n.code,{children:"bee start"})," command or started as a service with ",(0,i.jsx)(n.code,{children:"systemctl"})," / ",(0,i.jsx)(n.code,{children:"brew services"}),", the default directory for the YAML configuration file (shown in the ",(0,i.jsx)(n.code,{children:"config"})," option above) ",(0,i.jsx)(n.a,{href:"/docs/bee/working-with-bee/configuration",children:"will be different"}),"."]})}),"\n",(0,i.jsx)(n.p,{children:"To change your node's configuration, simply edit the YAML file and restart Bee:"}),"\n",(0,i.jsxs)(o.A,{defaultValue:"linux",values:[{label:"Linux",value:"linux"},{label:"MacOS arm64 (Apple Silicon)",value:"macos-arm64"},{label:"MacOS amd64 (Intel)",value:"macos-amd64"}],children:[(0,i.jsxs)(s.A,{value:"linux",children:[(0,i.jsx)(n.p,{children:"Open the config file for editing:"}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"sudo vi /etc/bee/bee.yaml\n"})}),(0,i.jsx)(n.p,{children:"After saving your changes, restart your node:"}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"sudo systemctl restart bee\n"})})]}),(0,i.jsxs)(s.A,{value:"macos-arm64",children:[(0,i.jsx)(n.p,{children:"Open the config file for editing:"}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"sudo vi /opt/homebrew/etc/swarm-bee/bee.yaml\n"})}),(0,i.jsx)(n.p,{children:"After saving your changes, restart your node:"}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"brew services restart swarm-bee\n"})})]}),(0,i.jsxs)(s.A,{value:"macos-amd64",children:[(0,i.jsx)(n.p,{children:"Open the config file for editing:"}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"sudo vi /usr/local/etc/swarm-bee/bee.yaml\n"})}),(0,i.jsx)(n.p,{children:"After saving your changes, restart your node:"}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"brew services restart swarm-bee\n"})})]})]}),"\n",(0,i.jsxs)(n.h2,{id:"manually-generating-yaml-config-file-for-bee-start",children:["Manually generating YAML config file for ",(0,i.jsx)(n.em,{children:"bee start"})]}),"\n",(0,i.jsxs)(n.p,{children:["No YAML file is generated during installation when using the ",(0,i.jsx)(n.a,{href:"/docs/bee/installation/shell-script-install",children:"shell script install method"}),", so you must generate one if you wish to use a YAML file to specify your configuration options. To do this you can use the ",(0,i.jsx)(n.code,{children:"bee printconfig"})," command to print out a set of default options and save it to a new file in the default location:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"bee printconfig &> $HOME/.bee.yaml\n"})}),"\n",(0,i.jsx)(n.admonition,{type:"info",children:(0,i.jsxs)(n.p,{children:["Note that ",(0,i.jsx)(n.code,{children:"bee printconfig"})," prints the default configuration for your node, not the current configuration including any changes."]})}),"\n",(0,i.jsxs)(n.p,{children:["When using ",(0,i.jsx)(n.code,{children:"bee.yaml"})," with the ",(0,i.jsx)(n.code,{children:"bee start"})," command, make sure to use the ",(0,i.jsx)(n.code,{children:"--config"})," flag to specify the location of your configuration file."]}),"\n",(0,i.jsx)(n.h2,{id:"node-types",children:"Node Types"}),"\n",(0,i.jsxs)(n.p,{children:["There are three node types which each offer varying levels of functionality - ",(0,i.jsx)(n.em,{children:(0,i.jsx)(n.strong,{children:"full"})}),", ",(0,i.jsx)(n.em,{children:(0,i.jsx)(n.strong,{children:"light"})}),", and ",(0,i.jsx)(n.em,{children:(0,i.jsx)(n.strong,{children:"ultra-light"})}),". You can configure your node to run as any of these three types by setting the related options within your configuration."]}),"\n",(0,i.jsxs)(n.p,{children:["For a deeper dive into each node type and its features and limitations, refer to the ",(0,i.jsx)(n.a,{href:"/docs/bee/working-with-bee/node-types",children:"Node Types"})," page."]}),"\n",(0,i.jsx)(n.h3,{id:"how-to-set-node-type",children:"How to Set Node Type"}),"\n",(0,i.jsxs)(n.p,{children:["There are three relevant options which are used to set your node type: ",(0,i.jsx)(n.code,{children:"full-node"}),", ",(0,i.jsx)(n.code,{children:"swap-enable"}),", and ",(0,i.jsx)(n.code,{children:"blockchain-rpc-endpoint"}),". The required option values for each node type are outlined below:"]}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Node Type"}),(0,i.jsx)(n.th,{children:(0,i.jsx)(n.code,{children:"full-node"})}),(0,i.jsx)(n.th,{children:(0,i.jsx)(n.code,{children:"swap-enable"})}),(0,i.jsx)(n.th,{children:(0,i.jsx)(n.code,{children:"blockchain-rpc-endpoint"})}),(0,i.jsx)(n.th,{children:"Functionality"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Full Node"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"true"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"true"})}),(0,i.jsx)(n.td,{children:"Required"}),(0,i.jsx)(n.td,{children:"Full functionality, including uploads, downloads, and Swarm network participation."})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Light Node"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"false"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"true"})}),(0,i.jsx)(n.td,{children:"Required"}),(0,i.jsx)(n.td,{children:"Supports uploading and downloading only."})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Ultra-Light Node"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"false"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"false"})}),(0,i.jsx)(n.td,{children:"Not required"}),(0,i.jsx)(n.td,{children:"Free-tier downloads only."})]})]})]}),"\n",(0,i.jsx)(n.h2,{id:"configuration-examples",children:"Configuration Examples"}),"\n",(0,i.jsx)(n.p,{children:"Bee nodes can be configured using command-line flags, environment variables, or a YAML configuration file:"}),"\n",(0,i.jsxs)(o.A,{defaultValue:"full",values:[{label:"Full",value:"full"},{label:"Light",value:"light"},{label:"Ultra-Light",value:"ultra-light"}],children:[(0,i.jsxs)(s.A,{value:"full",children:[(0,i.jsx)(n.h3,{id:"full-node-configuration",children:"Full Node Configuration"}),(0,i.jsx)(n.h4,{id:"using-command-line-arguments",children:"Using Command-Line Arguments"}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"bee start \\\n  --password mypassword \\\n  --full-node \\\n  --swap-enable \\\n  --blockchain-rpc-endpoint https://xdai.fairdatasociety.org\n"})}),(0,i.jsx)(n.h4,{id:"using-environment-variables",children:"Using Environment Variables"}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'export BEE_PASSWORD="mypassword"\nexport BEE_FULL_NODE="true"\nexport BEE_SWAP_ENABLE="true"\nexport BEE_BLOCKCHAIN_RPC_ENDPOINT="https://xdai.fairdatasociety.org"\nbee start\n'})}),(0,i.jsx)(n.h4,{id:"using-yaml-configuration",children:"Using YAML Configuration"}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:'password: mypassword\nfull-node: true\nswap-enable: true\nblockchain-rpc-endpoint: "https://xdai.fairdatasociety.org"\n'})})]}),(0,i.jsxs)(s.A,{value:"light",children:[(0,i.jsx)(n.h3,{id:"light-node-configuration",children:"Light Node Configuration"}),(0,i.jsx)(n.h4,{id:"using-command-line-arguments-1",children:"Using Command-Line Arguments"}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"bee start \\\n  --password mypassword \\\n  --swap-enable \\\n  --blockchain-rpc-endpoint https://xdai.fairdatasociety.org\n"})}),(0,i.jsx)(n.h4,{id:"using-environment-variables-1",children:"Using Environment Variables"}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'export BEE_PASSWORD="mypassword"\nexport BEE_SWAP_ENABLE="true"\nexport BEE_BLOCKCHAIN_RPC_ENDPOINT="https://xdai.fairdatasociety.org"\nbee start\n'})}),(0,i.jsx)(n.h4,{id:"using-yaml-configuration-1",children:"Using YAML Configuration"}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:'password: mypassword\nswap-enable: true\nblockchain-rpc-endpoint: "https://xdai.fairdatasociety.org"\n'})})]}),(0,i.jsxs)(s.A,{value:"ultra-light",children:[(0,i.jsx)(n.h3,{id:"ultra-light-node-configuration",children:"Ultra-Light Node Configuration"}),(0,i.jsx)(n.h4,{id:"using-command-line-arguments-2",children:"Using Command-Line Arguments"}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"bee start \\\n  --password mypassword\n"})}),(0,i.jsx)(n.h4,{id:"using-environment-variables-2",children:"Using Environment Variables"}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'export BEE_PASSWORD="mypassword"\nbee start\n'})}),(0,i.jsx)(n.h4,{id:"using-yaml-configuration-2",children:"Using YAML Configuration"}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"password: mypassword\n"})})]})]}),"\n",(0,i.jsx)(n.h2,{id:"default-data-and-config-directories",children:"Default Data and Config Directories"}),"\n",(0,i.jsx)(n.p,{children:"Depending on the operating system and startup method used, the default directories for your node will differ:"}),"\n",(0,i.jsx)(n.h3,{id:"bee-service-default-directories-package-manager-install",children:"Bee Service Default Directories (Package Manager Install)"}),"\n",(0,i.jsxs)(n.p,{children:["When installed using a package manager, Bee is set up to run as a service with default data and configuration  directories set up automatically during the installation. The examples below include default directories for Linux and macOS. You can find the complete details of default directories for different operating systems in the ",(0,i.jsx)(n.code,{children:"bee.yaml"})," files included in the ",(0,i.jsx)(n.a,{href:"https://github.com/ethersphere/bee/tree/master/packaging",children:"packaging folder of the Bee repo"}),"."]}),"\n",(0,i.jsxs)(o.A,{defaultValue:"linux",values:[{label:"Linux",value:"linux"},{label:"MacOS arm64 (Apple Silicon)",value:"macos-arm64"},{label:"MacOS amd64 (Intel)",value:"macos-amd64"}],children:[(0,i.jsxs)(s.A,{value:"linux",children:[(0,i.jsx)(n.p,{children:"The default data folder and config file locations:"}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"data-dir: /var/lib/bee\nconfig: /etc/bee/bee.yaml\n"})})]}),(0,i.jsxs)(s.A,{value:"macos-arm64",children:[(0,i.jsx)(n.p,{children:"The default data folder and config file locations:"}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"data-dir: /opt/homebrew/var/lib/swarm-bee\nconfig: /opt/homebrew/etc/swarm-bee/bee.yaml\n"})})]}),(0,i.jsxs)(s.A,{value:"macos-amd64",children:[(0,i.jsx)(n.p,{children:"The default data folder and config file locations:"}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"data-dir: /usr/local/var/lib/swarm-bee/\nconfig: /usr/local/etc/swarm-bee/bee.yaml\n"})})]})]}),"\n",(0,i.jsx)(n.h3,{id:"shell-script-install-default-directories",children:"Shell Script Install Default Directories"}),"\n",(0,i.jsxs)(n.p,{children:["For all operating systems, the default data and config directories for the ",(0,i.jsx)(n.code,{children:"bee start"})," startup method can be found using the ",(0,i.jsx)(n.code,{children:"bee printconfig"})," command:"]}),"\n",(0,i.jsxs)(n.p,{children:["This will print out a complete default Bee node configuration file to the terminal, the ",(0,i.jsx)(n.code,{children:"config"})," and ",(0,i.jsx)(n.code,{children:"data-dir"})," values show the default directories for your system:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"config: /root/.bee.yaml\ndata-dir: /root/.bee\n"})}),"\n",(0,i.jsx)(n.admonition,{type:"info",children:(0,i.jsxs)(n.p,{children:["The default directories for your system may differ from the example above, so make sure to run the ",(0,i.jsx)(n.code,{children:"bee printconfig"})," command to view the default directories for your system."]})}),"\n",(0,i.jsx)(n.h2,{id:"create-password",children:"Create Password"}),"\n",(0,i.jsxs)(n.p,{children:["A password is required for all modes, and can either be set directly in text through the ",(0,i.jsx)(n.code,{children:"password"})," configuration option or alternatively a file can be used by setting the ",(0,i.jsx)(n.code,{children:"password-file"})," option to the path where your password file is located."]}),"\n",(0,i.jsx)(n.h2,{id:"setting-blockchain-rpc-endpoint",children:"Setting Blockchain RPC endpoint"}),"\n",(0,i.jsxs)(n.p,{children:["Full and light Bee nodes require a Gnosis Chain RPC endpoint so they can interact with and deploy their chequebook contract, see the latest view of the current postage stamp batches, and interact with and top-up postage stamp batches. A blockchain RPC endpoint is not required for nodes running in ultra-light mode.\nWe recommend you ",(0,i.jsx)(n.a,{href:"https://docs.gnosischain.com/node/",children:"run your own Gnosis Chain node"})," if you are planning to run a full node, and especially if you plan to run a ",(0,i.jsx)(n.a,{href:"/docs/bee/installation/hive",children:"hive of nodes"}),".\nIf you do not wish to run your own Gnosis Chain node and are willing to trust a third party, you may also consider using an RPC endpoint provider such as ",(0,i.jsx)(n.a,{href:"https://getblock.io/",children:"GetBlock"}),".\nFor running a light node or for testing out a single full node you may also consider using one of the ",(0,i.jsx)(n.a,{href:"https://docs.gnosischain.com/tools/RPC%20Providers/",children:"free public RPC endpoints"})," listed in the Gnosis Chain documentation. However, these endpoint providers offer no ",(0,i.jsx)(n.a,{href:"https://en.wikipedia.org/wiki/Service-level_agreement",children:"SLA"})," or availability guarantees and are therefore not recommended for full node operators.\nTo set your RPC endpoint provider, specify it with the ",(0,i.jsx)(n.code,{children:"blockchain-rpc-endpoint"})," value, which is set to an empty string by default."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"## bee.yaml\nblockchain-rpc-endpoint: https://rpc.gnosis.gateway.fm\n"})}),"\n",(0,i.jsx)(n.admonition,{type:"info",children:(0,i.jsxs)(n.p,{children:["The gateway.fm RPC endpoint in the example is great for learning how to set up Bee, but for the sake of security and reliability it's recommended that you run your ",(0,i.jsx)(n.a,{href:"https://docs.gnosischain.com/node/",children:"run your own Gnosis Chain node"})," rather than relying on a third party provider."]})}),"\n",(0,i.jsx)(n.h2,{id:"configuring-swap-initial-deposit-optional",children:"Configuring Swap Initial Deposit (Optional)"}),"\n",(0,i.jsxs)(n.p,{children:["When running your Bee node with SWAP enabled for the first time, your node will deploy a 'chequebook' contract using the canonical factory contract which is deployed by Swarm. Once the chequebook is deployed, Bee will (optionally) deposit a certain amount of xBZZ in the chequebook contract so that it can pay other nodes in return for their services. The amount of xBZZ transferred to the chequebook is set by the ",(0,i.jsx)(n.code,{children:"swap-initial-deposit"})," configuration setting (it may be left at the default value of zero or commented out)."]}),"\n",(0,i.jsx)(n.h2,{id:"configuring-swap-initial-deposit-optional-1",children:"Configuring Swap Initial Deposit (Optional)"}),"\n",(0,i.jsxs)(n.p,{children:["When running your Bee node with SWAP enabled for the first time, your node will deploy a 'chequebook' contract using the canonical factory contract which is deployed by Swarm. Once the chequebook is deployed, Bee will (optionally) deposit a certain amount of xBZZ in the chequebook contract so that it can pay other nodes in return for their services. The amount of xBZZ transferred to the chequebook is set by the ",(0,i.jsx)(n.code,{children:"swap-initial-deposit"})," configuration setting (it may be left at the default value of zero or commented out)."]}),"\n",(0,i.jsx)(n.h2,{id:"nat-address",children:"NAT address"}),"\n",(0,i.jsxs)(n.p,{children:["Swarm is all about sharing and storing chunks of data. To enable other Bees (also known as ",(0,i.jsx)(n.em,{children:"peers"}),") to connect to your Bee, you must\nbroadcast your public IP address in order to ensure that Bee is reachable on the correct p2p port (default ",(0,i.jsx)(n.code,{children:"1634"}),"). We recommend that you ",(0,i.jsx)(n.a,{href:"/docs/bee/installation/connectivity",children:"manually configure your external IP and check\nconnectivity"})," to ensure your Bee is able to receive connections from other peers."]}),"\n",(0,i.jsx)(n.p,{children:"First, determine your public IP address:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"curl icanhazip.com\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"123.123.123.123\n"})}),"\n",(0,i.jsx)(n.p,{children:"Then configure your node, including your p2p port (default 1634)."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:'## bee.yaml\nnat-addr: "123.123.123.123:1634"\n'})}),"\n",(0,i.jsx)(n.h2,{id:"ens-resolution-optional",children:"ENS Resolution (Optional)"}),"\n",(0,i.jsxs)(n.p,{children:["The ",(0,i.jsx)(n.a,{href:"https://ens.domains/",children:"ENS"})," domain resolution system is used to host websites on Bee, and in order to use this your Bee must be connected to a mainnet Ethereum blockchain node. We recommend you run your own ethereum node. An option for resource restricted devices is geth+nimbus and a guide can be found ",(0,i.jsx)(n.a,{href:"https://ethereum-on-arm-documentation.readthedocs.io/en/latest/",children:"here"}),". Other options include ",(0,i.jsx)(n.a,{href:"https://dappnode.io/",children:"dappnode"}),", ",(0,i.jsx)(n.a,{href:"https://www.nicenode.xyz/",children:"nicenode"}),", ",(0,i.jsx)(n.a,{href:"https://stereum.net/",children:"stereum"})," and ",(0,i.jsx)(n.a,{href:"https://ava.do/",children:"avado"}),"."]}),"\n",(0,i.jsxs)(n.p,{children:["If you do not wish to run your own Ethereum node, you may use a blockchain RPC service provider such as ",(0,i.jsx)(n.a,{href:"https://infura.io",children:"Infura"}),". After signing up for Infura, simply set your ",(0,i.jsx)(n.code,{children:"--resolver-options"})," to ",(0,i.jsx)(n.code,{children:"https://mainnet.infura.io/v3/your-api-key"}),"."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:'## bee.yaml\nresolver-options: ["https://mainnet.infura.io/v3/<<your-api-key>>"]\n'})}),"\n",(0,i.jsx)(n.h2,{id:"sepolia-testnet-configuration",children:"Sepolia Testnet Configuration"}),"\n",(0,i.jsxs)(n.p,{children:["In order to operate a Bee node on the Sepolia testnet, you need to change ",(0,i.jsx)(n.code,{children:"mainnet"})," to ",(0,i.jsx)(n.code,{children:"false"}),", and provide a valid Sepolia testnet RPC endpoint through the ",(0,i.jsx)(n.code,{children:"blockchain-rpc-endpoint"})," option."]}),"\n",(0,i.jsx)(n.p,{children:"Here is an example of a full configuration for a testnet full node:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:'data-dir: /home/username/bee/sepolia # Specified an alternate "data-dir" for our testnet node data\nfull-node: true\nmainnet: false # Changed to "false"\npassword: password\nblockchain-rpc-endpoint: wss://sepolia.infura.io/ws/v3/<API-KEY> # Replaced the Gnosis Chain RPC with a Sepolia testnet RPC endpoint\nswap-enable: true\nverbosity: 5\nwelcome-message: "welcome-from-the-hive"\nwarmup-time: 30s\n'})}),"\n",(0,i.jsx)(n.h3,{id:"funding-testnet-node",children:"Funding Testnet Node"}),"\n",(0,i.jsxs)(n.p,{children:["Make sure to fund your node with Sepolia ETH rather than xDAI to pay for gas on the Sepolia testnet. There are many public faucets you can use to obtain Sepolia ETH, such as ",(0,i.jsx)(n.a,{href:"https://www.infura.io/faucet/sepolia",children:"this one from Infura"}),"."]}),"\n",(0,i.jsxs)(n.p,{children:["To get Sepolia BZZ (sBZZ) you can use ",(0,i.jsx)(n.a,{href:"https://app.uniswap.org/swap?outputCurrency=0x543dDb01Ba47acB11de34891cD86B675F04840db&inputCurrency=ETH",children:"this Uniswap market"}),", just make sure that you've switched to the Sepolia network in your browser wallet."]})]})}function p(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(h,{...e})}):h(e)}},79329:(e,n,t)=>{t.d(n,{A:()=>o});t(96540);var a=t(34164);const i={tabItem:"tabItem_Ymn6"};var r=t(74848);function o(e){let{children:n,hidden:t,className:o}=e;return(0,r.jsx)("div",{role:"tabpanel",className:(0,a.A)(i.tabItem,o),hidden:t,children:n})}}}]);