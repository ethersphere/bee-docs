"use strict";(self.webpackChunkbee_docs=self.webpackChunkbee_docs||[]).push([[7895],{68061:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>p,contentTitle:()=>h,default:()=>x,frontMatter:()=>d,metadata:()=>u,toc:()=>m});var n=a(74848),s=a(28453),r=a(96540);function i(){const[e,t]=(0,r.useState)(""),[a,s]=(0,r.useState)(""),[i,l]=(0,r.useState)(""),[o,c]=(0,r.useState)({}),[d,h]=(0,r.useState)(!1),[u,p]=(0,r.useState)(0),[m,b]=(0,r.useState)(null),x={22:"4.93 GB",23:"17.03 GB",24:"44.21 GB",25:"102.78 GB",26:"225.86 GB",27:"480.43 GB",28:"1.00 TB",29:"2.06 TB",30:"4.20 TB",31:"8.52 TB",32:"17.20 TB",33:"34.63 TB",34:"69.58 TB",35:"139.63 TB",36:"279.91 TB",37:"560.73 TB",38:"1.12 PB",39:"2.25 PB",40:"4.50 PB",41:"9.00 PB"};(0,r.useEffect)((()=>{f()}),[]);const f=async()=>{h(!0),l(""),c({});try{const e=await fetch("https://api.swarmscan.io/v1/events/storage-price-oracle/price-update");if(!e.ok)throw new Error("Network response was not ok");const t=await e.json();t.events&&t.events.length>0?p(parseFloat(t.events[0].data.price)):l("No price update available")}catch(e){l(`Error: ${e.message}`),c({general:e.message})}finally{h(!1)}},g=(e,t,a)=>{let n={};const s=Number(e),r=Number(t),i=17280*a;if((!Number.isInteger(s)||s<17||s>41)&&(n.depth="Depth must be an integer greater or equal to 17 and less than or equal to 41."),(!Number.isInteger(r)||r<i)&&(n.amount=`Amount must be a positive whole number and at least ${i} PLUR given the current storage price of ${a} PLUR/chunk/block.`),c(n),0===Object.keys(n).length){const t=x[s]||"0",n=function(e){const t=1e3,a=t**3,n=t**4,s=t**5;return e<a?(e/1e6).toFixed(2)+" MB":e<n?(e/a).toFixed(2)+" GB":e<s?(e/n).toFixed(2)+" TB":(e/s).toFixed(2)+" PB"}(2**(s+12)),i=j(r/a*5),o=2**s*r/1e16;l(`A depth value of ${e} allows for an effective storage volume of ${t} and a theoretical max volume of ${n}. For an amount value of ${r} PLUR / block / chunk it can be stored for ${i} at a cost of ${o.toFixed(2)} xBZZ.`),b({Depth:e,Amount:r,"Effective Volume":t,"Theoretical Max Volume":n,"Storage duration":i,Cost:`${o.toFixed(4)} xBZZ`})}else l(""),b(null)},j=e=>{const t=86400;return e>31536e3?`${(e/31536e3).toFixed(2)} years`:e>604800?`${(e/604800).toFixed(2)} weeks`:e>t?`${(e/t).toFixed(2)} days`:e>3600?`${(e/3600).toFixed(2)} hours`:`${e.toFixed(2)} seconds`};return(0,n.jsxs)("div",{style:{fontFamily:"Arial, sans-serif",width:"auto",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},children:[(0,n.jsxs)("div",{style:{marginBottom:"10px"},children:[(0,n.jsx)("label",{htmlFor:"depthInput",style:{display:"block",marginBottom:"5px"},children:"Depth:"}),(0,n.jsx)("input",{id:"depthInput",placeholder:"Input batch depth (17 to 41)",value:e,onChange:e=>t(e.target.value),style:{display:"block",marginBottom:"5px",padding:"8px"}}),o.depth&&(0,n.jsx)("div",{style:{color:"red",marginBottom:"10px"},children:o.depth}),(0,n.jsxs)("label",{htmlFor:"amountInput",style:{display:"block",marginBottom:"5px"},children:["Amount (current minimum is ",d?"Loading...":17280*u," PLUR):"]}),(0,n.jsx)("input",{id:"amountInput",placeholder:"Input amount",value:a,onChange:e=>s(e.target.value),style:{display:"block",marginBottom:"5px",padding:"8px"}}),(0,n.jsx)("button",{onClick:()=>{g(e.trim(),a.trim(),u)},disabled:d,style:{padding:"10px 15px",cursor:"pointer"},children:d?"Loading...":"Calculate"})]}),o.amount&&(0,n.jsx)("div",{style:{color:"red",marginBottom:"10px"},children:o.amount}),i&&(0,n.jsx)("div",{style:{color:o.general?"red":"",marginBottom:"20px",fontSize:"16px"},children:i}),m&&(0,n.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse"},children:[(0,n.jsx)("thead",{children:(0,n.jsxs)("tr",{children:[(0,n.jsx)("th",{style:{textAlign:"left",padding:"8px",border:"1px solid"},children:"Field"}),(0,n.jsx)("th",{style:{textAlign:"left",padding:"8px",border:"1px solid"},children:"Value"})]})}),(0,n.jsx)("tbody",{children:Object.entries(m).map((e=>{let[t,a]=e;return(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{style:{fontWeight:"bold",padding:"8px",border:"1px solid"},children:t}),(0,n.jsx)("td",{style:{padding:"8px",border:"1px solid"},children:a})]},t)}))})]})]})}const l=function(){const[e,t]=(0,r.useState)(null),[a,s]=(0,r.useState)(""),[i,l]=(0,r.useState)("hours"),[o,c]=(0,r.useState)(""),[d,h]=(0,r.useState)("GB"),[u,p]=(0,r.useState)(null),[m,b]=(0,r.useState)(null),[x,f]=(0,r.useState)(null),[g,j]=(0,r.useState)(null),[v,w]=(0,r.useState)(null),[y,T]=(0,r.useState)(null),[I,B]=(0,r.useState)(!1),[S,k]=(0,r.useState)(""),[A,C]=(0,r.useState)(""),N={4.93:22,17.03:23,44.21:24,102.78:25,225.86:26,480.43:27,"1024.00":28,2109.44:29,"4300.80":30,8724.48:31,"17612.80":32,35461.12:33,71249.92:34,142981.12:35,286627.84:36,574187.52:37,1174405.12:38,"2359296.00":39,"4718592.00":40,"9437184.00":41};(0,r.useEffect)((()=>{D()}),[]),(0,r.useEffect)((()=>{null!==x&&null!==g&&F(),null!==m&&null!==g&&E()}),[x,g,m]);const D=async()=>{try{const e=await fetch("https://api.swarmscan.io/v1/events/storage-price-oracle/price-update");if(!e.ok)throw new Error("Network response was not ok");const a=await e.json();a.events&&a.events.length>0?t(parseFloat(a.events[0].data.price)):console.error("No price update available.")}catch(e){console.error("Error fetching price:",e.message)}},L=e=>{let t=Object.keys(N).map((e=>parseFloat(e))).sort(((e,t)=>e-t)).find((t=>t>=e));f(t?N[t.toFixed(2)]:"No suitable depth found")},P=e=>{for(let t=17;t<=41;t++)if(e<=Math.pow(2,12+t)/1024**3)return t;return null},V=t=>{if(null!==e){j(t*e)}},F=()=>{if(null!==x&&null!==g){w((2**x*g/1e16).toFixed(4))}},E=()=>{if(null!==m&&null!==g){T((2**m*g/1e16).toFixed(4))}},$=(e,t)=>{const a=parseFloat(e);if(isNaN(a)||a<=0)return k("Time must be a positive number greater than 24 hrs."),0;const n=a*("years"===t?8760:"weeks"===t?168:"days"===t?24:1);return n<24?(k("Time must be longer than 24 hours."),0):n},G=(e,t)=>{const a=parseFloat(e);if(isNaN(a)||a<=0)return C("Volume must be a positive number."),0;const n=a*("TB"===t?1024:"PB"===t?1048576:"MB"===t?1/1024:1);return n<=0||n>9437184?(C("Volume must be greater than 0 and less than 9 PB."),0):n};return(0,n.jsxs)("div",{style:{alignItems:"flex-start",width:"auto"},children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{htmlFor:"timeInput",style:{display:"block",marginBottom:"5px"},children:"Time:"}),(0,n.jsx)("input",{id:"timeInput",style:{marginRight:"5px",padding:"8px"},value:a,onChange:e=>s(e.target.value),placeholder:"Enter time (>= 24 hrs)"}),(0,n.jsxs)("select",{style:{marginRight:"5px",padding:"8px"},value:i,onChange:e=>l(e.target.value),children:[(0,n.jsx)("option",{value:"hours",children:"Hours"}),(0,n.jsx)("option",{value:"days",children:"Days"}),(0,n.jsx)("option",{value:"weeks",children:"Weeks"}),(0,n.jsx)("option",{value:"years",children:"Years"})]}),S&&(0,n.jsx)("p",{style:{color:"red",marginBottom:"10px"},children:S})]}),(0,n.jsxs)("div",{style:{marginBottom:"5px"},children:[(0,n.jsx)("label",{htmlFor:"volumeInput",style:{display:"block",marginBottom:"5px"},children:"Volume:"}),(0,n.jsx)("input",{id:"volumeInput",style:{marginRight:"5px",padding:"8px"},value:o,onChange:e=>c(e.target.value),placeholder:"Enter volume (<= 9 PB)"}),(0,n.jsxs)("select",{style:{marginRight:"5px",padding:"8px"},value:d,onChange:e=>h(e.target.value),children:[(0,n.jsx)("option",{value:"MB",children:"Megabytes"}),(0,n.jsx)("option",{value:"GB",children:"Gigabytes"}),(0,n.jsx)("option",{value:"TB",children:"Terabytes"}),(0,n.jsx)("option",{value:"PB",children:"Petabytes"})]}),A&&(0,n.jsx)("p",{style:{color:"red",marginBottom:"10px"},children:A})]}),(0,n.jsx)("div",{children:(0,n.jsx)("button",{style:{padding:"10px 15px",cursor:"pointer",display:"inline-block",width:"auto"},onClick:()=>{if(!e)return void console.error("Price data not available");B(!1),k(""),C("");const t=$(a,i),n=G(o,d);t&&n&&(p(t),L(n),b(P(n)),V(3600*t/5),B(!0))},children:"Calculate"})}),I&&!S&&!A&&(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{style:{marginTop:"20px",fontSize:"16px"},children:`In order to store ${o} ${d} of data for ${a} ${i}, a depth of ${x} and an amount value of ${g} should be used.`}),(0,n.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse",marginTop:"20px"},children:[(0,n.jsx)("thead",{children:(0,n.jsxs)("tr",{children:[(0,n.jsx)("th",{style:{textAlign:"left",padding:"8px",border:"1px solid"},children:"Field"}),(0,n.jsx)("th",{style:{textAlign:"left",padding:"8px",border:"1px solid"},children:"Value"})]})}),(0,n.jsxs)("tbody",{children:[(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:"Time"}),(0,n.jsxs)("td",{children:[u," hours"]})]}),(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:"Volume"}),(0,n.jsx)("td",{children:`${o} ${d}`})]}),(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:"Suggested Minimum Amount"}),(0,n.jsxs)("td",{children:[g," PLUR"]})]}),(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:"Suggested Safe Depth"}),(0,n.jsxs)("td",{children:[`${x} (for an `,(0,n.jsx)("a",{href:"/docs/learn/technology/contracts/postage-stamp#effective-utilisation-table",children:"effective volume"}),` of ${{22:"4.93 GB",23:"17.03 GB",24:"44.21 GB",25:"102.78 GB",26:"225.86 GB",27:"480.43 GB",28:"1.00 TB",29:"2.06 TB",30:"4.20 TB",31:"8.52 TB",32:"17.20 TB",33:"34.63 TB",34:"69.58 TB",35:"139.63 TB",36:"279.91 TB",37:"560.73 TB",38:"1.12 PB",39:"2.25 PB",40:"4.50 PB",41:"9.00 PB"}[x]})`]})]}),(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:"Suggested Minimum Depth"}),(0,n.jsxs)("td",{children:[m," (see ",(0,n.jsx)("a",{href:"/docs/learn/technology/contracts/postage-stamp#effective-utilisation-table",children:"batch utilisation"})," - may require ",(0,n.jsx)("a",{href:"#dilute-your-batch",children:"dilution"}),")"]})]}),(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:"Batch Cost for Safe Depth"}),(0,n.jsxs)("td",{children:[v," xBZZ"]})]}),(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:"Batch Cost for Minimum Depth"}),(0,n.jsxs)("td",{children:[y," xBZZ"]})]})]})]})]})]})};var o=a(11470),c=a(19365);const d={title:"Buy a Batch of Stamps",id:"buy-a-stamp-batch"},h=void 0,u={id:"develop/access-the-swarm/buy-a-stamp-batch",title:"Buy a Batch of Stamps",description:"A postage batch is required to upload data to Swarm. Postage stamp batches represent right to write data on Swarm's DISC (Distributed Immutable Store of Chunks). The parameters which control the duration and quantity of data that can be stored by a postage batch are depth and amount, with depth determining data volume that can be uploaded by the batch and amount determining storage duration of data uploaded with the batch.",source:"@site/docs/develop/access-the-swarm/buy-a-stamp-batch.md",sourceDirName:"develop/access-the-swarm",slug:"/develop/access-the-swarm/buy-a-stamp-batch",permalink:"/docs/develop/access-the-swarm/buy-a-stamp-batch",draft:!1,unlisted:!1,editUrl:"https://github.com/ethersphere/docs.github.io/blob/master/docs/develop/access-the-swarm/buy-a-stamp-batch.md",tags:[],version:"current",frontMatter:{title:"Buy a Batch of Stamps",id:"buy-a-stamp-batch"},sidebar:"develop",previous:{title:"Introduction",permalink:"/docs/develop/access-the-swarm/introduction"},next:{title:"Upload and Download",permalink:"/docs/develop/access-the-swarm/upload-and-download"}},p={},m=[{value:"Fund your node&#39;s wallet.",id:"fund-your-nodes-wallet",level:2},{value:"Buying a stamp batch",id:"buying-a-stamp-batch",level:2},{value:"API",id:"api",level:4},{value:"Swarm CLI",id:"swarm-cli",level:4},{value:"Setting stamp batch parameters and options",id:"setting-stamp-batch-parameters-and-options",level:2},{value:"Choosing <code>depth</code>",id:"choosing-depth",level:3},{value:"Choosing <code>amount</code>",id:"choosing-amount",level:3},{value:"Mutable or Immutable?",id:"mutable-or-immutable",level:3},{value:"Calculators",id:"calculators",level:2},{value:"Depth &amp; Amount to Time &amp; Volume Calculator",id:"depth--amount-to-time--volume-calculator",level:3},{value:"Time &amp; Volume to Depth &amp; Amount Calculator",id:"time--volume-to-depth--amount-calculator",level:3},{value:"Viewing Stamps",id:"viewing-stamps",level:2},{value:"API",id:"api-1",level:4},{value:"Swarm CLI",id:"swarm-cli-1",level:4},{value:"Checking the remaining TTL (time to live) of your batch",id:"checking-the-remaining-ttl-time-to-live-of-your-batch",level:2},{value:"API",id:"api-2",level:4},{value:"Swarm CLI",id:"swarm-cli-2",level:4},{value:"Top up your batch",id:"top-up-your-batch",level:2},{value:"API",id:"api-3",level:4},{value:"Swarm CLI",id:"swarm-cli-3",level:4},{value:"Dilute your batch",id:"dilute-your-batch",level:2},{value:"API",id:"api-4",level:4},{value:"Swarm CLI",id:"swarm-cli-4",level:4},{value:"Stewardship",id:"stewardship",level:2}];function b(e){const t={a:"a",admonition:"admonition",code:"code",em:"em",h2:"h2",h3:"h3",h4:"h4",p:"p",pre:"pre",...(0,s.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(t.p,{children:["A postage batch is required to upload data to Swarm. Postage stamp batches represent ",(0,n.jsx)(t.em,{children:"right to write"})," data on Swarm's ",(0,n.jsx)(t.a,{href:"/docs/learn/technology/disc",children:"DISC (Distributed Immutable Store of Chunks)"}),". The parameters which control the duration and quantity of data that can be stored by a postage batch are ",(0,n.jsx)(t.code,{children:"depth"})," and ",(0,n.jsx)(t.code,{children:"amount"}),", with ",(0,n.jsx)(t.code,{children:"depth"})," determining data volume that can be uploaded by the batch and ",(0,n.jsx)(t.code,{children:"amount"})," determining storage duration of data uploaded with the batch."]}),"\n",(0,n.jsxs)(t.p,{children:["For a deeper understanding of how ",(0,n.jsx)(t.code,{children:"depth"})," and ",(0,n.jsx)(t.code,{children:"amount"})," parameters determine the data volume and storage duration of a postage batch, see the ",(0,n.jsx)(t.a,{href:"/docs/learn/technology/contracts/postage-stamp",children:"postage stamp contract page"}),"."]}),"\n",(0,n.jsx)(t.h2,{id:"fund-your-nodes-wallet",children:"Fund your node's wallet."}),"\n",(0,n.jsx)(t.p,{children:"In order to purchase a postage stamp batch, your node's Gnosis Chain address needs to be funded with sufficient xDAI to pay gas for transaction fees on Gnosis Chain as well as sufficient xBZZ to pay for the cost of the postage stamp batch itself."}),"\n",(0,n.jsxs)(t.p,{children:["xBZZ can be obtained from a variety of different centralized and decentralized exchanges. You can find more information on ",(0,n.jsx)(t.a,{href:"https://www.ethswarm.org/get-bzz#how-to-get-bzz",children:"where to obtain xBZZ"})," on the Ethswarm homepage."]}),"\n",(0,n.jsxs)(t.p,{children:["xDAI can be obtained from a wide range of centralized and decentralized exchanges. See ",(0,n.jsx)(t.a,{href:"https://docs.gnosischain.com/about/tokens/xdai",children:"this list of exchanges"})," from the Gnosis Chain documentation to get started."]}),"\n",(0,n.jsx)(t.h2,{id:"buying-a-stamp-batch",children:"Buying a stamp batch"}),"\n",(0,n.jsxs)(t.p,{children:["When interacting with the Bee API directly, ",(0,n.jsx)(t.code,{children:"amount"})," and ",(0,n.jsx)(t.code,{children:"depth"})," are passed as path parameters:"]}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-bash",children:"curl -s -X POST http://localhost:1633/stamps/<amount>/<depth>\n"})}),"\n",(0,n.jsx)(t.p,{children:"And with Swarm CLI, they are set using option flags:"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-bash",children:"swarm-cli stamp buy --depth <depth value> --amount <amount value>\n"})}),"\n",(0,n.jsxs)(o.A,{defaultValue:"api",values:[{label:"API",value:"api"},{label:"Swarm CLI",value:"swarm-cli"}],children:[(0,n.jsxs)(c.A,{value:"api",children:[(0,n.jsx)(t.h4,{id:"api",children:"API"}),(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-bash",children:"curl -s -X POST http://localhost:1633/stamps/100000000/20\n"})}),(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-bash",children:'{\n  "batchID": "8fcec40c65841e0c3c56679315a29a6495d32b9ed506f2757e03cdd778552c6b",\n  "txHash": "0x51c77ac171efd930eca8f3a77e3fcd5aca0a7353b84d5562f8e9c13f5907b675"\n}\n'})})]}),(0,n.jsxs)(c.A,{value:"swarm-cli",children:[(0,n.jsx)(t.h4,{id:"swarm-cli",children:"Swarm CLI"}),(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-bash",children:"swarm-cli stamp buy --depth 20 --amount 100000000\n"})}),(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-bash",children:"Estimated cost: 0.010 BZZ\nEstimated capacity: 4.00 GB\nEstimated TTL: 5 hours 47 minutes 13 seconds\nType: Mutable\nWhen a mutable stamp reaches full capacity, it still permits new content uploads. However, this comes with the caveat of overwriting previously uploaded content associated with the same stamp.\n? Confirm the purchase Yes\nStamp ID: f4b9830676f4eeed4982c051934e64113dc348d7f5d2ab4398d371be0fbcdbf5\n"})})]})]}),"\n",(0,n.jsx)(t.admonition,{type:"info",children:(0,n.jsx)(t.p,{children:"Once your batch has been purchased, it will take a few minutes for other Bee nodes in the Swarm to catch up and register your batch. Allow some time for your batch to propagate in the network before proceeding to the next step."})}),"\n",(0,n.jsx)(t.h2,{id:"setting-stamp-batch-parameters-and-options",children:"Setting stamp batch parameters and options"}),"\n",(0,n.jsxs)(t.p,{children:["When purchasing a batch of stamps there are several parameters and options which must be considered. The ",(0,n.jsx)(t.code,{children:"depth"})," parameter will control how many chunks can be uploaded with a batch of stamps. The ",(0,n.jsx)(t.code,{children:"amount"})," parameter determines how much xBZZ will be allocated per chunk, and therefore also controls how long the chunks will be stored. While the ",(0,n.jsx)(t.code,{children:"immutable"})," header option sets the batch as either mutable or immutable, which can significantly alter the behavior of the batch utilisation (more details below)."]}),"\n",(0,n.jsxs)(t.h3,{id:"choosing-depth",children:["Choosing ",(0,n.jsx)(t.code,{children:"depth"})]}),"\n",(0,n.jsx)(t.admonition,{type:"caution",children:(0,n.jsxs)(t.p,{children:["The minimum value for ",(0,n.jsx)(t.code,{children:"depth"})," is 17, however a higher depth value is recommended for most use cases due to the ",(0,n.jsx)(t.a,{href:"/docs/learn/technology/contracts/postage-stamp#batch-utilisation",children:"mechanics of stamp batch utilisation"}),". See ",(0,n.jsx)(t.a,{href:"/docs/learn/technology/contracts/postage-stamp#effective-utilisation-table",children:"the depths utilisation table"})," to help decide which depth is best for your use case."]})}),"\n",(0,n.jsx)(t.p,{children:"One notable aspect of batch utilisation is that the entire batch is considered fully utilised as soon as any one of its buckets are filled. This means that the actual amount of chunks storable by a batch is less than the nominal maximum amount."}),"\n",(0,n.jsxs)(t.p,{children:["See the ",(0,n.jsx)(t.a,{href:"/docs/learn/technology/contracts/postage-stamp#batch-utilisation",children:"postage stamp contract page"})," for a more complete explanation of how batch utilisation works and a ",(0,n.jsx)(t.a,{href:"/docs/learn/technology/contracts/postage-stamp#effective-utilisation-table",children:"table"})," with the specific amounts of data which can be safely uploaded for each ",(0,n.jsx)(t.code,{children:"depth"})," value."]}),"\n",(0,n.jsxs)(t.h3,{id:"choosing-amount",children:["Choosing ",(0,n.jsx)(t.code,{children:"amount"})]}),"\n",(0,n.jsx)(t.admonition,{type:"caution",children:(0,n.jsxs)(t.p,{children:["The minimum ",(0,n.jsx)(t.code,{children:"amount"})," value for purchasing stamps is required to be at least enough to pay for 24 hours of storage. To find this value multiply the lastPrice value from the postage stamp contract times 17280 (the number of blocks in 24 hours). You can also use the ",(0,n.jsx)(t.a,{href:"#calculators",children:"calculator"})," below. This requirement is in place in order to prevent spamming the network."]})}),"\n",(0,n.jsxs)(t.p,{children:["The ",(0,n.jsx)(t.code,{children:"amount"})," parameter determines how much xBZZ is assigned per chunk for a postage stamp batch. You can use the calculators below to find the appropriate ",(0,n.jsx)(t.code,{children:"amount"})," value for your target duration of storage and can also preview the price. For more information see the ",(0,n.jsx)(t.a,{href:"/docs/learn/technology/contracts/postage-stamp#batch-amount--batch-cost",children:"postage stamp batch contract page"})," where a more complete description is included."]}),"\n",(0,n.jsx)(t.h3,{id:"mutable-or-immutable",children:"Mutable or Immutable?"}),"\n",(0,n.jsxs)(t.p,{children:["Depending on the use case, uploaders may desire to use mutable or immutable batches. The fundamental difference between immutable and mutable batches is that immutable batches become unusable once their capacity is filled, while for mutable batches, once their capacity is filled, they may continue to be used, however older chunks of data will be overwritten with the newer once over capacity. The default batch type is immutable. In order to set the batch type to mutable, the ",(0,n.jsx)(t.code,{children:"immutable"})," header should be set to ",(0,n.jsx)(t.code,{children:"false"}),". See ",(0,n.jsx)(t.a,{href:"/docs/learn/technology/contracts/postage-stamp#which-type-of-batch-to-use",children:"this section on postage stamp batch utilisation"})," to learn more about mutable vs immutable batches, and about which type may be right for your use case."]}),"\n",(0,n.jsx)(t.h2,{id:"calculators",children:"Calculators"}),"\n",(0,n.jsx)(t.p,{children:"The following postage batch calculators allow you to conveniently find the depth and amount values for a given storage duration and storage volume, or to find the storage duration and storage volume for a given depth and amount. The results will display the cost in xBZZ for the postage batch. The current pricing information is sourced from the Swarmscan API and will vary over time."}),"\n",(0,n.jsx)(t.admonition,{type:"info",children:(0,n.jsxs)(t.p,{children:["The 'effective volume' is the volume of data that can safely stored for each storage depth. The 'theoretical max volume' is significantly lower than the effective volume at lower depths and the two values trend towards the same value at higher depths. The lowest depth with an effective volume above zero is 22, with an effective depth of 4.93 GB. Lower depth values can be used for smaller uploads but do not come with the same storage guarantees. ",(0,n.jsx)(t.a,{href:"/docs/learn/technology/contracts/postage-stamp#effective-utilisation-table",children:"Learn more here"}),"."]})}),"\n",(0,n.jsx)(t.h3,{id:"depth--amount-to-time--volume-calculator",children:"Depth & Amount to Time & Volume Calculator"}),"\n",(0,n.jsx)(i,{}),"\n",(0,n.jsx)(t.h3,{id:"time--volume-to-depth--amount-calculator",children:"Time & Volume to Depth & Amount Calculator"}),"\n",(0,n.jsxs)(t.p,{children:["The recommended depth in this calculator's results is the lowest depth value whose ",(0,n.jsx)(t.a,{href:"/docs/learn/technology/contracts/postage-stamp#effective-utilisation-table",children:"effective volume"})," is greater than the entered volume."]}),"\n",(0,n.jsx)(l,{}),"\n",(0,n.jsx)(t.h2,{id:"viewing-stamps",children:"Viewing Stamps"}),"\n",(0,n.jsx)(t.p,{children:"To check on your stamps, send a GET request to the stamp endpoint."}),"\n",(0,n.jsxs)(o.A,{defaultValue:"api",values:[{label:"API",value:"api"},{label:"Swarm CLI",value:"swarm-cli"}],children:[(0,n.jsxs)(c.A,{value:"api",children:[(0,n.jsx)(t.h4,{id:"api-1",children:"API"}),(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-bash",children:"curl http://localhost:1633/stamps\n"})}),(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-bash",children:'{\n  "stamps": [\n    {\n      "batchID": "f4b9830676f4eeed4982c051934e64113dc348d7f5d2ab4398d371be0fbcdbf5",\n      "utilization": 0,\n      "usable": true,\n      "label": "",\n      "depth": 20,\n      "amount": "100000000",\n      "bucketDepth": 16,\n      "blockNumber": 30643611,\n      "immutableFlag": true,\n      "exists": true,\n      "batchTTL": 20588,\n      "expired": false\n    }\n  ]\n}\n'})})]}),(0,n.jsxs)(c.A,{value:"swarm-cli",children:[(0,n.jsx)(t.h4,{id:"swarm-cli-1",children:"Swarm CLI"}),(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-bash",children:"swarm-cli stamp list\n"})}),(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-bash",children:"Stamp ID: f4b9830676f4eeed4982c051934e64113dc348d7f5d2ab4398d371be0fbcdbf5\nUsage: 0%\nRemaining Capacity: 4.00 GB\nTTL: 5 hours 42 minutes 18 seconds\nExpires: 2023-10-26\n\n"})})]})]}),"\n",(0,n.jsx)(t.admonition,{type:"info",children:(0,n.jsx)(t.p,{children:"It is not possible to reupload unencrypted content which was stamped using an expired postage stamp."})}),"\n",(0,n.jsx)(t.h2,{id:"checking-the-remaining-ttl-time-to-live-of-your-batch",children:"Checking the remaining TTL (time to live) of your batch"}),"\n",(0,n.jsx)(t.admonition,{type:"info",children:(0,n.jsx)(t.p,{children:"At present, TTL is a primitive calculation based on the current storage price and the assumption that storage price will remain static in the future. As more data is uploaded into Swarm, the price of storage will begin to increase. For data that it is important to keep alive, make sure your batches have plenty of time to live!"})}),"\n",(0,n.jsxs)(t.p,{children:["In order to make sure your ",(0,n.jsx)(t.em,{children:"batch"})," has sufficient ",(0,n.jsx)(t.em,{children:"remaining balance"})," to be stored and served by nodes in its ",(0,n.jsx)(t.a,{href:"/docs/learn/glossary#2-area-of-responsibility-related-depths",children:(0,n.jsx)(t.em,{children:"area of responsibility"})}),", you must regularly check on its ",(0,n.jsx)(t.em,{children:"time to live"})," and act accordingly. The ",(0,n.jsx)(t.em,{children:"time to live"})," is the number of seconds before the chunks will be considered for garbage collection by nodes in the network."]}),"\n",(0,n.jsxs)(t.p,{children:["The remaining ",(0,n.jsx)(t.em,{children:"time to live"})," in seconds is shown in the API in the returned json object as the value for ",(0,n.jsx)(t.code,{children:"batchTTL"}),", and with Swarm CLI you will see the formatted TTL as the ",(0,n.jsx)(t.code,{children:"TTL"})," value."]}),"\n",(0,n.jsxs)(o.A,{defaultValue:"api",values:[{label:"API",value:"api"},{label:"Swarm CLI",value:"swarm-cli"}],children:[(0,n.jsxs)(c.A,{value:"api",children:[(0,n.jsx)(t.h4,{id:"api-2",children:"API"}),(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-bash",children:"curl http://localhost:1633/stamps\n"})}),(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-bash",children:'{\n  "stamps": [\n    {\n      "batchID": "f4b9830676f4eeed4982c051934e64113dc348d7f5d2ab4398d371be0fbcdbf5",\n      "utilization": 0,\n      "usable": true,\n      "label": "",\n      "depth": 20,\n      "amount": "100000000",\n      "bucketDepth": 16,\n      "blockNumber": 30643611,\n      "immutableFlag": true,\n      "exists": true,\n      "batchTTL": 20588,\n      "expired": false\n    }\n  ]\n}\n'})})]}),(0,n.jsxs)(c.A,{value:"swarm-cli",children:[(0,n.jsx)(t.h4,{id:"swarm-cli-2",children:"Swarm CLI"}),(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-bash",children:"swarm-cli stamp list\n"})}),(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-bash",children:"Stamp ID: f4b9830676f4eeed4982c051934e64113dc348d7f5d2ab4398d371be0fbcdbf5\nUsage: 0%\nRemaining Capacity: 4.00 GB\nTTL: 5 hours 42 minutes 18 seconds\nExpires: 2023-10-26\n\n"})})]})]}),"\n",(0,n.jsx)(t.h2,{id:"top-up-your-batch",children:"Top up your batch"}),"\n",(0,n.jsx)(t.admonition,{type:"danger",children:(0,n.jsx)(t.p,{children:"Don't let your batch run out! If it does, you will need to restamp and resync your content."})}),"\n",(0,n.jsx)(t.p,{children:"If your batch is starting to run out, or you would like to extend the life of your batch to protect against storage price rises, you can increase the batch TTL by topping up your batch using the stamps endpoint, passing in the relevant batchID into the HTTP PATCH request."}),"\n",(0,n.jsxs)(o.A,{defaultValue:"api",values:[{label:"API",value:"api"},{label:"Swarm CLI",value:"swarm-cli"}],children:[(0,n.jsxs)(c.A,{value:"api",children:[(0,n.jsx)(t.h4,{id:"api-3",children:"API"}),(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-bash",children:'curl -X PATCH "http://localhost:1633/stamps/topup/6d32e6f1b724f8658830e51f8f57aa6029f82ee7a30e4fc0c1bfe23ab5632b27/10000000"\n'})})]}),(0,n.jsxs)(c.A,{value:"swarm-cli",children:[(0,n.jsx)(t.h4,{id:"swarm-cli-3",children:"Swarm CLI"}),(0,n.jsx)(t.p,{children:"List available stamps."}),(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-bash",children:"swarm-cli stamp list\n"})}),(0,n.jsx)(t.p,{children:"Copy stamp ID."}),(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-bash",children:"Stamp ID: daa8c5b36e1cf481b10118a8b02430a6f22618deaa6ba5aa4ea660de66aa62db\nUsage: 13%\nRemaining Capacity: 3.50 GB\nTTL: 183 days 1 hour 37 minutes 8 seconds\nExpires: 2024-05-02\n"})}),(0,n.jsxs)(t.p,{children:["Use ",(0,n.jsx)(t.code,{children:"swarm-cli stamp topup"})," with the ",(0,n.jsx)(t.code,{children:"--amount"})," and ",(0,n.jsx)(t.code,{children:"--stamp"})," parameters set with the amount to topup in PLUR and the stamp ID."]}),(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-bash",children:"swarm-cli stamp topup --amount 10000000  --stamp daa8c5b36e1cf481b10118a8b02430a6f22618deaa6ba5aa\n4ea660de66aa62db\n"})}),(0,n.jsx)(t.p,{children:"Wait for topup transaction to complete."}),(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-bash",children:"\u2b21 \u2b21 \u2b22 Topup in progress. This may take a while.\nStamp ID: daa8c5b36e1cf481b10118a8b02430a6f22618deaa6ba5aa4ea660de66aa62db\nDepth: 20\nAmount: 100000001000\n"})})]})]}),"\n",(0,n.jsx)(t.h2,{id:"dilute-your-batch",children:"Dilute your batch"}),"\n",(0,n.jsx)(t.p,{children:'In order to store more data with a batch of stamps, you must "dilute" the batch. Dilution simply refers to increasing the depth of the batch, thereby allowing it to store a greater number of chunks. As dilution only increases the the depth of a batch and does not automatically top up the batch with more xBZZ, dilution will decrease the TTL of the batch. Therefore if you wish to store more with your batch but don\'t want to decrease its TTL, you will need to both dilute and top up your batch with more xBZZ.'}),"\n",(0,n.jsxs)(o.A,{defaultValue:"api",values:[{label:"API",value:"api"},{label:"Swarm CLI",value:"swarm-cli"}],children:[(0,n.jsxs)(c.A,{value:"api",children:[(0,n.jsx)(t.h4,{id:"api-4",children:"API"}),(0,n.jsxs)(t.p,{children:["Here we call the ",(0,n.jsx)(t.code,{children:"/stamps"})," endpoint and find a batch with ",(0,n.jsx)(t.code,{children:"depth"})," 24 and a ",(0,n.jsx)(t.code,{children:"batchTTL"})," of 2083223 which we wish to dilute:"]}),(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-bash",children:"curl  http://localhost:1633/stamps\n"})}),(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-json",children:'{\n    "stamps": [\n        {\n            "batchID": "0e4dd16cc435730a25ba662eb3da46e28d260c61c31713b6f4abf8f8c2548ae5",\n            "utilization": 0,\n            "usable": true,\n            "label": "",\n            "depth": 24,\n            "amount": "10000000000",\n            "bucketDepth": 16,\n            "blockNumber": 29717348,\n            "immutableFlag": false,\n            "exists": true,\n            "batchTTL": 2083223,\n            "expired": false\n        }\n    ]\n}\n'})}),(0,n.jsxs)(t.p,{children:["Next we call the ",(0,n.jsx)(t.a,{href:"/api/#tag/Postage-Stamps/paths/~1stamps~1dilute~1%7Bbatch_id%7D~1%7Bdepth%7D/patch",children:(0,n.jsx)(t.code,{children:"dilute"})})," endpoint to increase the ",(0,n.jsx)(t.code,{children:"depth"})," of the batch using the ",(0,n.jsx)(t.code,{children:"batchID"})," and our new ",(0,n.jsx)(t.code,{children:"depth"})," of 26:"]}),(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-bash",children:"curl -s -XPATCH http://localhost:1633/stamps/dilute/0e4dd16cc435730a25ba662eb3da46e28d260c61c31713b6f4abf8f8c2548ae5/26\n"})}),(0,n.jsxs)(t.p,{children:["And a ",(0,n.jsx)(t.code,{children:"txHash"})," of our successful transaction:"]}),(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-bash",children:'{\n    "batchID": "0e4dd16cc435730a25ba662eb3da46e28d260c61c31713b6f4abf8f8c2548ae5",\n    "txHash": "0x298e80358b3257292752edb2535a1cd84440c074451b61f78fab349aea4962b7"\n}\n'})}),(0,n.jsxs)(t.p,{children:["And finally we use the ",(0,n.jsx)(t.code,{children:"/stamps"})," endpoint again to confirm the new ",(0,n.jsx)(t.code,{children:"depth"})," and decreased ",(0,n.jsx)(t.code,{children:"batchTTL"}),":"]}),(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-bash",children:"curl  http://localhost:1633/stamps\n"})}),(0,n.jsxs)(t.p,{children:["We can see the new ",(0,n.jsx)(t.code,{children:"depth"})," of 26 and a decreased ",(0,n.jsx)(t.code,{children:"batchTTL"})," of 519265."]}),(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-json",children:'{\n    "stamps": [\n        {\n            "batchID": "0e4dd16cc435730a25ba662eb3da46e28d260c61c31713b6f4abf8f8c2548ae5",\n            "utilization": 0,\n            "usable": true,\n            "label": "",\n            "depth": 26,\n            "amount": "10000000000",\n            "bucketDepth": 16,\n            "blockNumber": 29717348,\n            "immutableFlag": false,\n            "exists": true,\n            "batchTTL": 519265,\n            "expired": false\n        }\n    ]\n}\n'})})]}),(0,n.jsxs)(c.A,{value:"swarm-cli",children:[(0,n.jsx)(t.h4,{id:"swarm-cli-4",children:"Swarm CLI"}),(0,n.jsxs)(t.p,{children:["List available stamps, make sure to use the ",(0,n.jsx)(t.code,{children:"--verbose"})," flag so that we can see the batch depth."]}),(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-bash",children:"swarm-cli stamp list --verbose\n"})}),(0,n.jsx)(t.p,{children:"We have a stamp batch with depth 20 we want to dilute. Copy stamp ID of that batch."}),(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-bash",children:"Listing postage stamps...\nStamp ID: daa8c5b36e1cf481b10118a8b02430a6f22618deaa6ba5aa4ea660de66aa62db\nUsage: 13%\nRemaining Capacity: 3.50 GB\nTotal Capacity (mutable): 4.00 GB\nTTL: 182 days 4 hours 39 minutes 47 seconds\nExpires: 2024-05-02\nDepth: 20\nBucket Depth: 16\nAmount: 100010002000\nUsable: true\nUtilization: 2\nBlock Number: 29734329\n"})}),(0,n.jsxs)(t.p,{children:["Use ",(0,n.jsx)(t.code,{children:"swarm-cli stamp dilute"})," with the ",(0,n.jsx)(t.code,{children:"--depth"})," and ",(0,n.jsx)(t.code,{children:"--stamp"})," parameters set with the desired new depth and the stamp ID."]}),(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-bash",children:"swarm-cli stamp dilute --depth 21 --stamp daa8c5b36e1cf481b10118a8b02430a6f22618deaa6ba5aa4ea660de66aa62db\n"})}),(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-bash",children:"\u2b21 \u2b21 \u2b22 Dilute in progress. This may take a while.\nStamp ID: daa8c5b36e1cf481b10118a8b02430a6f22618deaa6ba5aa4ea660de66aa62db\nDepth: 20\nAmount: 100010002000\n"})})]})]}),"\n",(0,n.jsx)(t.h2,{id:"stewardship",children:"Stewardship"}),"\n",(0,n.jsxs)(t.p,{children:["The ",(0,n.jsx)("a",{href:"/api/#tag/Stewardship",target:"_blank",children:"stewardship endpoint"})," in combination with ",(0,n.jsx)(t.a,{href:"/docs/develop/access-the-swarm/pinning",children:"pinning"})," can be used to guarantee that important content is always available. It is used for checking whether the content for a Swarm reference is retrievable and for re-uploading the content if it is not."]}),"\n",(0,n.jsxs)(t.p,{children:["An HTTP GET request to the ",(0,n.jsx)(t.code,{children:"stewardship"})," endpoint checks to see whether the content for the specified Swarm reference is retrievable:"]}),"\n",(0,n.jsx)(t.admonition,{type:"info",children:(0,n.jsxs)(t.p,{children:[(0,n.jsx)(t.code,{children:"stewardship"})," is not currently supported by Swarm CLI"]})}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-bash",children:'curl "http://localhost:1633/stewardship/c0c2b70b01db8cdfaf114cde176a1e30972b556c7e72d5403bea32e\nc0207136f"\n'})}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-json",children:'{\n  "isRetrievable": true\n}\n'})}),"\n",(0,n.jsx)(t.p,{children:"If the content is not retrievable, an HTTP PUT request can be used to re-upload the content:"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-bash",children:'curl -X PUT "http://localhost:1633/stewardship/c0c2b70b01db8cdfaf114cde176a1e30972b556c7e72d5403bea32ec0207136f"\n'})}),"\n",(0,n.jsx)(t.p,{children:"Note that for the re-upload to succeed, the associated content must be available locally, either pinned or cached. Since it isn't easy to predict if the content will be cached, for important content pinning is recommended."})]})}function x(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,n.jsx)(t,{...e,children:(0,n.jsx)(b,{...e})}):b(e)}},19365:(e,t,a)=>{a.d(t,{A:()=>i});a(96540);var n=a(34164);const s={tabItem:"tabItem_Ymn6"};var r=a(74848);function i(e){let{children:t,hidden:a,className:i}=e;return(0,r.jsx)("div",{role:"tabpanel",className:(0,n.A)(s.tabItem,i),hidden:a,children:t})}},11470:(e,t,a)=>{a.d(t,{A:()=>y});var n=a(96540),s=a(34164),r=a(23104),i=a(56347),l=a(205),o=a(57485),c=a(31682),d=a(70679);function h(e){return n.Children.toArray(e).filter((e=>"\n"!==e)).map((e=>{if(!e||(0,n.isValidElement)(e)&&function(e){const{props:t}=e;return!!t&&"object"==typeof t&&"value"in t}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}function u(e){const{values:t,children:a}=e;return(0,n.useMemo)((()=>{const e=t??function(e){return h(e).map((e=>{let{props:{value:t,label:a,attributes:n,default:s}}=e;return{value:t,label:a,attributes:n,default:s}}))}(a);return function(e){const t=(0,c.XI)(e,((e,t)=>e.value===t.value));if(t.length>0)throw new Error(`Docusaurus error: Duplicate values "${t.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[t,a])}function p(e){let{value:t,tabValues:a}=e;return a.some((e=>e.value===t))}function m(e){let{queryString:t=!1,groupId:a}=e;const s=(0,i.W6)(),r=function(e){let{queryString:t=!1,groupId:a}=e;if("string"==typeof t)return t;if(!1===t)return null;if(!0===t&&!a)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return a??null}({queryString:t,groupId:a});return[(0,o.aZ)(r),(0,n.useCallback)((e=>{if(!r)return;const t=new URLSearchParams(s.location.search);t.set(r,e),s.replace({...s.location,search:t.toString()})}),[r,s])]}function b(e){const{defaultValue:t,queryString:a=!1,groupId:s}=e,r=u(e),[i,o]=(0,n.useState)((()=>function(e){let{defaultValue:t,tabValues:a}=e;if(0===a.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(t){if(!p({value:t,tabValues:a}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${t}" but none of its children has the corresponding value. Available values are: ${a.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return t}const n=a.find((e=>e.default))??a[0];if(!n)throw new Error("Unexpected error: 0 tabValues");return n.value}({defaultValue:t,tabValues:r}))),[c,h]=m({queryString:a,groupId:s}),[b,x]=function(e){let{groupId:t}=e;const a=function(e){return e?`docusaurus.tab.${e}`:null}(t),[s,r]=(0,d.Dv)(a);return[s,(0,n.useCallback)((e=>{a&&r.set(e)}),[a,r])]}({groupId:s}),f=(()=>{const e=c??b;return p({value:e,tabValues:r})?e:null})();(0,l.A)((()=>{f&&o(f)}),[f]);return{selectedValue:i,selectValue:(0,n.useCallback)((e=>{if(!p({value:e,tabValues:r}))throw new Error(`Can't select invalid tab value=${e}`);o(e),h(e),x(e)}),[h,x,r]),tabValues:r}}var x=a(92303);const f={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var g=a(74848);function j(e){let{className:t,block:a,selectedValue:n,selectValue:i,tabValues:l}=e;const o=[],{blockElementScrollPositionUntilNextRender:c}=(0,r.a_)(),d=e=>{const t=e.currentTarget,a=o.indexOf(t),s=l[a].value;s!==n&&(c(t),i(s))},h=e=>{let t=null;switch(e.key){case"Enter":d(e);break;case"ArrowRight":{const a=o.indexOf(e.currentTarget)+1;t=o[a]??o[0];break}case"ArrowLeft":{const a=o.indexOf(e.currentTarget)-1;t=o[a]??o[o.length-1];break}}t?.focus()};return(0,g.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,s.A)("tabs",{"tabs--block":a},t),children:l.map((e=>{let{value:t,label:a,attributes:r}=e;return(0,g.jsx)("li",{role:"tab",tabIndex:n===t?0:-1,"aria-selected":n===t,ref:e=>o.push(e),onKeyDown:h,onClick:d,...r,className:(0,s.A)("tabs__item",f.tabItem,r?.className,{"tabs__item--active":n===t}),children:a??t},t)}))})}function v(e){let{lazy:t,children:a,selectedValue:r}=e;const i=(Array.isArray(a)?a:[a]).filter(Boolean);if(t){const e=i.find((e=>e.props.value===r));return e?(0,n.cloneElement)(e,{className:(0,s.A)("margin-top--md",e.props.className)}):null}return(0,g.jsx)("div",{className:"margin-top--md",children:i.map(((e,t)=>(0,n.cloneElement)(e,{key:t,hidden:e.props.value!==r})))})}function w(e){const t=b(e);return(0,g.jsxs)("div",{className:(0,s.A)("tabs-container",f.tabList),children:[(0,g.jsx)(j,{...t,...e}),(0,g.jsx)(v,{...t,...e})]})}function y(e){const t=(0,x.A)();return(0,g.jsx)(w,{...e,children:h(e.children)},String(t))}},28453:(e,t,a)=>{a.d(t,{R:()=>i,x:()=>l});var n=a(96540);const s={},r=n.createContext(s);function i(e){const t=n.useContext(r);return n.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function l(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:i(e.components),n.createElement(r.Provider,{value:t},e.children)}}}]);