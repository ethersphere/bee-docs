"use strict";(self.webpackChunkbee_docs=self.webpackChunkbee_docs||[]).push([[264],{385:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>r,default:()=>l,frontMatter:()=>o,metadata:()=>i,toc:()=>d});var s=n(74848),a=n(28453);const o={title:"Track Upload Status",id:"syncing"},r=void 0,i={id:"develop/access-the-swarm/syncing",title:"Track Upload Status",description:"When you are uploading data to Swarm, it can take some time until this is completed. In order to help you validate whether the upload is completed or to estimate how long it will take, you can use the tags feature.",source:"@site/docs/develop/access-the-swarm/syncing.md",sourceDirName:"develop/access-the-swarm",slug:"/develop/access-the-swarm/syncing",permalink:"/docs/develop/access-the-swarm/syncing",draft:!1,unlisted:!1,editUrl:"https://github.com/ethersphere/docs.github.io/blob/master/docs/develop/access-the-swarm/syncing.md",tags:[],version:"current",frontMatter:{title:"Track Upload Status",id:"syncing"},sidebar:"develop",previous:{title:"Host Your Website on Swarm",permalink:"/docs/develop/access-the-swarm/host-your-website"},next:{title:"Pinning",permalink:"/docs/develop/access-the-swarm/pinning"}},c={},d=[{value:"Generate the tag",id:"generate-the-tag",level:3},{value:"Ask for the Current Status",id:"ask-for-the-current-status",level:3}];function h(e){const t={a:"a",admonition:"admonition",code:"code",em:"em",h3:"h3",p:"p",pre:"pre",...(0,a.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(t.p,{children:["When you are uploading data to Swarm, it can take some time until this is completed. In order to help you validate whether the upload is completed or to estimate how long it will take, you can use the ",(0,s.jsx)(t.code,{children:"tags"})," feature."]}),"\n",(0,s.jsx)(t.h3,{id:"generate-the-tag",children:"Generate the tag"}),"\n",(0,s.jsx)(t.p,{children:"While the automatically-generated tag is convenient, with big uploads it might take a while until the Bee API returns the headers. What you want to do in this case is to pre-generate the tag and pass this tag along with the upload command."}),"\n",(0,s.jsx)(t.p,{children:"Generate a tag:"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-bash",children:"curl -X POST http://localhost:1633/tags\n"})}),"\n",(0,s.jsxs)(t.p,{children:["The ",(0,s.jsx)(t.code,{children:"uid"})," value is your tag:"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-json",children:' {\n    "split": 0,\n    "seen": 0,\n    "stored": 0,\n    "sent": 0,\n    "synced": 0,\n    "uid": 5,\n    "address": "",\n    "startedAt": "2023-08-31T06:46:41.574003454Z"\n}\n'})}),"\n",(0,s.jsx)(t.admonition,{type:"info",children:(0,s.jsxs)(t.p,{children:["In order to upload your data to swarm, you must agree to burn some of your xBZZ to signify that the content is important. Before you progress to the next step, you must buy stamps! See this guide on how to ",(0,s.jsx)(t.a,{href:"/docs/develop/access-the-swarm/buy-a-stamp-batch",children:"purchase an appropriate batch of stamps"}),"."]})}),"\n",(0,s.jsx)(t.p,{children:"Pass the tag along with the upload:"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-bash",children:'curl --data-binary @bee.jpg \\\n  -H "Swarm-Postage-Batch-Id: 78a26be9b42317fe6f0cbea3e47cbd0cf34f533db4e9c91cf92be40eb2968264" \\\n  -H "Swarm-Tag: 5" \\\n  "http://localhost:1633/bzz?name=bee.jpg"\n'})}),"\n",(0,s.jsx)(t.h3,{id:"ask-for-the-current-status",children:"Ask for the Current Status"}),"\n",(0,s.jsxs)(t.p,{children:["To get the current status of an upload, send a GET request to the ",(0,s.jsx)(t.code,{children:"tag/<Swarm-Tag>"})," API endpoint."]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-bash",children:"curl http://localhost:1633/tags/5 | jq\n"})}),"\n",(0,s.jsx)(t.p,{children:"The response contains all the information that you need to follow the status of your file as it is synced with the network."}),"\n",(0,s.jsx)(t.admonition,{type:"info",children:(0,s.jsxs)(t.p,{children:["The numbers that the ",(0,s.jsx)(t.code,{children:"tags"})," endpoint returns under ",(0,s.jsx)(t.code,{children:"total"}),", ",(0,s.jsx)(t.code,{children:"processed"})," and ",(0,s.jsx)(t.code,{children:"synced"})," are denominated in ",(0,s.jsx)(t.a,{href:"/docs/learn/technology/disc#chunks",children:(0,s.jsx)(t.em,{children:"chunks"})}),", i.e. Swarm's 4kb data units."]})})]})}function l(e={}){const{wrapper:t}={...(0,a.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(h,{...e})}):h(e)}},28453:(e,t,n)=>{n.d(t,{R:()=>r,x:()=>i});var s=n(96540);const a={},o=s.createContext(a);function r(e){const t=s.useContext(o);return s.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function i(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:r(e.components),s.createElement(o.Provider,{value:t},e.children)}}}]);