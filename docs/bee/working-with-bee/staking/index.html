<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-bee/working-with-bee/staking" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.1.1">
<title data-rh="true">Staking | Swarm Documentation</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://docs.ethswarm.org/docs/bee/working-with-bee/staking"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Staking | Swarm Documentation"><meta data-rh="true" name="description" content="In order to participate in the redistribution of xBZZ from uploaders to storers, storers must first deposit a non-refundable xBZZ stake with a smart contract. Then, they are going to be chosen for payout with a probability proportional to their stake in their neighbourhood, as long as they can log storing the part of the content that they are supposed to be storing according to protocol rules."><meta data-rh="true" property="og:description" content="In order to participate in the redistribution of xBZZ from uploaders to storers, storers must first deposit a non-refundable xBZZ stake with a smart contract. Then, they are going to be chosen for payout with a probability proportional to their stake in their neighbourhood, as long as they can log storing the part of the content that they are supposed to be storing according to protocol rules."><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://docs.ethswarm.org/docs/bee/working-with-bee/staking"><link data-rh="true" rel="alternate" href="https://docs.ethswarm.org/docs/bee/working-with-bee/staking" hreflang="en"><link data-rh="true" rel="alternate" href="https://docs.ethswarm.org/docs/bee/working-with-bee/staking" hreflang="x-default"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.24/dist/katex.min.css" integrity="sha384-odtC+0UGzzFL/6PNoE8rX/SPcQDXBJ+uRepguP4QkPCm2LBxH3FA3y+fKSiJ+AmM" crossorigin="anonymous">
<script src="/matomo.js" async></script><link rel="stylesheet" href="/assets/css/styles.ea21a4ad.css">
<script src="/assets/js/runtime~main.367f8aa7.js" defer="defer"></script>
<script src="/assets/js/main.f91ef041.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"dark")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="Swarm Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/logo.svg" alt="Swarm Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate"></b></a><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link inter">Learn</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/learn/introduction">Introduction</a></li><li><a class="dropdown__link" href="/docs/learn/technology/what-is-swarm">Technology</a></li><li><a class="dropdown__link" href="/docs/learn/ecosystem/swarm-foundation">Ecosystem</a></li><li><a class="dropdown__link" href="/docs/learn/tokens">Tokens</a></li><li><a class="dropdown__link" href="/docs/learn/glossary">Glossary</a></li><li><a class="dropdown__link" href="/docs/learn/faq">FAQ </a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Desktop</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/desktop/introduction">Introduction</a></li><li><a class="dropdown__link" href="/docs/desktop/install">Install</a></li><li><a class="dropdown__link" href="/docs/desktop/configuration">Configuration</a></li><li><a class="dropdown__link" href="/docs/desktop/access-content">Access Content</a></li><li><a class="dropdown__link" href="/docs/desktop/postage-stamps">Postage Stamps</a></li><li><a class="dropdown__link" href="/docs/desktop/upload-content">Upload Content</a></li><li><a class="dropdown__link" href="/docs/desktop/backup-restore">Backup and Restore</a></li><li><a class="dropdown__link" href="/docs/desktop/publish-a-website">Publish a Static Website</a></li><li><a class="dropdown__link" href="/docs/desktop/start-a-blog">Start a Blog</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Bee</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/bee/installation/quick-start">Installation</a></li><li><a class="dropdown__link" href="/docs/bee/working-with-bee/introduction">Working With Bee</a></li><li><a class="dropdown__link" href="/docs/bee/bee-faq">Bee FAQ</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Develop</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/develop/introduction">Introduction</a></li><li><a class="dropdown__link" href="/docs/develop/access-the-swarm/introduction">Access the Swarm</a></li><li><a class="dropdown__link" href="/docs/develop/tools-and-features/introduction">Tools and Features</a></li><li><a class="dropdown__link" href="/docs/develop/contribute/introduction">Contribute to Bee Development</a></li></ul></div><a class="navbar__item navbar__link" href="/api/">API Reference</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/ethersphere/bee" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub repository"></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently dark mode)" aria-label="Switch between dark and light mode (currently dark mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><div class="navbar__search"><span aria-label="expand searchbar" role="button" class="search-icon" tabindex="0"></span><input id="search_input_react" type="search" placeholder="Loading..." aria-label="Search" class="navbar__search-input search-bar" disabled=""></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="true" href="/docs/bee/installation/quick-start">Installation</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/bee/installation/quick-start">Quick Start</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/bee/installation/install">Install Bee</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/bee/installation/build-from-source">Build from Source</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/bee/installation/hive">Hive</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/bee/installation/docker">Docker</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/bee/installation/connectivity">Connectivity</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/bee/installation/fund-your-node">Fund Your Node</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/docs/bee/working-with-bee/introduction">Working With Bee</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/bee/working-with-bee/introduction">Introduction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/bee/working-with-bee/configuration">Configuration</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/bee/working-with-bee/bee-api">Bee API</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/bee/working-with-bee/logs-and-files">Logs and Files</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/bee/working-with-bee/bee-dashboard">Bee Dashboard</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/bee/working-with-bee/swarm-cli">Swarm CLI</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/bee/working-with-bee/staking">Staking</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/bee/working-with-bee/cashing-out">Cashing Out</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/bee/working-with-bee/monitoring">Monitoring Your Node</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/bee/working-with-bee/backups">Backups</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/bee/working-with-bee/upgrading-bee">Upgrading Bee</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/bee/working-with-bee/uninstalling-bee">Uninstalling Bee</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/bee/working-with-bee/light-nodes">Light Nodes</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/bee/working-with-bee/ultra-light-nodes">Ultra Light Nodes</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/bee/bee-faq">Bee FAQ</a></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Working With Bee</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Staking</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Staking</h1></header><p>In order to participate in the redistribution of xBZZ from uploaders to storers, storers must first deposit a non-refundable xBZZ stake with a smart contract. Then, they are going to be chosen for payout with a probability proportional to their stake in their neighbourhood, as long as they can log storing the part of the content that they are supposed to be storing according to protocol rules.</p>
<p>In order to participate in redistribution, storers need to do the following:</p>
<ul>
<li>Join the network and download all the data that the protocol assigns to them. They can only participate if they are fully synchronised with the network.</li>
<li>Deposit a stake with the staking contract. There is a minimum staking requirement, presently 10 xBZZ. It can change in the future.</li>
<li>Stay online and fully synced, so that when a redistribution round comes, their node can check whether their neighbourhood (nodes that are assigned the same content to store) has been selected and if so, they can perform a certain calculation (a random sampling) on their content and submit the result to the redistribution contract. This happens in two phases (commit and reveal), so that the nodes cannot know the results of others’ calculations when committing to their own.</li>
<li>Round length is estimated around 15 minutes (152 blocks to be precise), though it can be extended.</li>
</ul>
<p>Amongst the nodes that agree with the correct result, one is chosen — with a probability in proportion to their stake — as the winner. The winner must execute an on-chain transaction claiming their reward, which is the entire pot of storage rent paid since the previous round, or even more, if the previous pot has not been claimed at that time.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="add-stake">Add stake<a href="#add-stake" class="hash-link" aria-label="Direct link to Add stake" title="Direct link to Add stake">​</a></h2>
<p>Bee has builtin endpoints for depositing the stake. Currently the minimum staking requirement is 10 xBZZ, so make sure that there is enough tokens in the node&#x27;s wallet and you must have some native token as well for paying the gas.</p>
<p>Then you can run the following command to stake 10 xBZZ. The amount is given in PLUR which is the smallest denomination of xBZZ and <code>1 xBZZ == 1e16 PLUR</code>.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">curl -XPOST localhost:1633/stake/100000000000000000</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>If the command executed successfully it returns a transaction hash that you can use to verify on a block explorer.</p>
<p>It is possible to deposit more by repeatedly using the command above.</p>
<p>You can also check the amount staked with the following command:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">curl localhost:1633/stake</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="check-redistribution-status">Check redistribution status<a href="#check-redistribution-status" class="hash-link" aria-label="Direct link to Check redistribution status" title="Direct link to Check redistribution status">​</a></h2>
<p>Use the <a href="/api/#tag/RedistributionState" target="_blank" rel="noopener noreferrer">RedistributionState</a> endpoint of the API to get more information about the redistribution status of the node.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">curl -X GET http://localhost:1633/redistributionstate | jq</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">{ </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;minimumFunds&quot;: &quot;18750000000000000&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;hasSufficientFunds&quot;: true,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;isFrozen&quot;: false,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;isFullySynced&quot;: true,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;phase&quot;: &quot;commit&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;round&quot;: 176319,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;lastWonRound&quot;: 176024,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;lastPlayedRound&quot;: 176182,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;lastFrozenRound&quot;: 0,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;block&quot;: 26800488,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;reward&quot;: &quot;10479124611072000&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;fees&quot;: &quot;30166618102500000&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li><code>&quot;minimumFunds&quot;: &lt;integer&gt;</code> - The minimum xDAI needed to play a single round of the redistribution game (the unit is 1e-18 xDAI).</li>
<li><code>&quot;hasSufficientFunds&quot;: &lt;bool&gt;</code> - Shows whether the node has enough xDAI balance to submit at least five storage incentives redistribution related transactions.  If <code>false</code> the node will not be permitted to participate in next round.</li>
<li><code>&quot;isFrozen&quot;: &lt;bool&gt;</code> - Shows node frozen status.</li>
<li><code>&quot;isFullySynced&quot;: &lt;bool&gt;</code> - Shows whether node&#x27;s localstore has completed full historical syncing with all connected peers.</li>
<li><code>&quot;phase&quot;: &lt;string&gt;</code> - Current phase of <a href="/docs/learn/technology/incentives#storage-incentives-details">redistribution game</a> (<code>commit</code>, <code>reveal</code>, or <code>claim</code>).</li>
<li><code>&quot;round&quot;: &lt;integer&gt;</code> - Current round of redistribution game. The round number is determined by dividing the current Gnosis Chain block height by the number of blocks in one round. One round takes 152 blocks, so using the &quot;block&quot; output from the example above we can confirm that the round number is 176319 (block 26800488 / 152 blocks = round 176319).</li>
<li><code>&quot;lastWonRound&quot;: &lt;integer&gt;</code> - Number of round last won by this node.</li>
<li><code>&quot;lastPlayedRound&quot;: &lt;integer&gt;</code> - Number of the last round where node&#x27;s neighborhood was selected to participate in redistribution game.</li>
<li><code>&quot;lastFrozenRound&quot;: &lt;integer&gt;</code> The number the round when node was last frozen.</li>
<li><code>&quot;block&quot;: &lt;integer&gt;</code> - Gnosis block of the current redistribution game.</li>
<li><code>&quot;reward&quot;: &lt;string (BigInt)&gt;</code> - Record of total reward received in <a href="/docs/learn/glossary#plur">PLUR</a>.</li>
<li><code>&quot;fees&quot;: &lt;string (BigInt)&gt;</code> - Record of total spent in 1E-18 xDAI on all redistribution related transactions.</li>
</ul>
<div class="theme-admonition theme-admonition-warning admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>warning</div><div class="admonitionContent_BuS1"><p>Nodes should not be shut down or updated in the middle of a round they are playing in as it may cause them to lose out on winnings or become frozen. To see if your node is playing the current round, check if <code>lastPlayedRound</code> equals <code>round</code> in the output from the <a href="/api/#tag/RedistributionState/paths/~1redistributionstate/get"><code>/redistributionstate</code> endpoint</a>.</p></div></div>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_BuS1"><p>If your node is not operating properly such as getting frozen or not participating in any rounds, see the <a href="#troubleshooting">troubleshooting section</a>.</p></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="maximize-rewards">Maximize rewards<a href="#maximize-rewards" class="hash-link" aria-label="Direct link to Maximize rewards" title="Direct link to Maximize rewards">​</a></h2>
<p>There are two main factors which determine the chances for a staking node to win a reward — neighborhood selection and stake density. Both of these should be considered together before starting up a Bee node for the first time. See the <a href="/docs/learn/technology/incentives/">incentives page</a> for more context.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="neighborhood-selection">Neighborhood selection<a href="#neighborhood-selection" class="hash-link" aria-label="Direct link to Neighborhood selection" title="Direct link to Neighborhood selection">​</a></h3>
<p>By default when running a Bee node for the first time an overlay address will be generated and used to assign the node to a random <a href="/docs/learn/technology/disc#neighborhoods">neighborhood</a>. However, by using the <code>target-neighborhood</code> config option, a specific neighborhood can be selected in which to generate the node&#x27;s overlay address. This is an excellent tool for maximizing reward chances as generally speaking running in a less populated neighborhood will increase the chances of winning a reward. See the <a href="/docs/bee/installation/install#set-target-neighborhood-optional">config section</a> on the installation page for more information on how to set a target neighborhood.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="stake-density">Stake density<a href="#stake-density" class="hash-link" aria-label="Direct link to Stake density" title="Direct link to Stake density">​</a></h3>
<p>Stake density is defined as:</p>
<span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mtext>stake density</mtext><mo>=</mo><mtext>staked xBZZ</mtext><mo>×</mo><msup><mn>2</mn><mtext>storageDepth</mtext></msup></mrow><annotation encoding="application/x-tex">\text{stake density} = \text{staked xBZZ} \times {2}^\text{storageDepth}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em"></span><span class="mord text"><span class="mord">stake density</span></span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:0.7778em;vertical-align:-0.0833em"></span><span class="mord text"><span class="mord">staked xBZZ</span></span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:0.8991em"></span><span class="mord"><span class="mord"><span class="mord">2</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8991em"><span style="top:-3.113em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord text mtight"><span class="mord mtight">storageDepth</span></span></span></span></span></span></span></span></span></span></span></span></span>
<p><em>To learn more about stake density and the mechanics of the incentives system, see the <a href="/docs/learn/technology/incentives/">incentives page</a>.</em></p>
<p>Stake density determines the weighted chances of nodes within a neighborhood of winning rewards. The chance of winning within a neighborhood corresponds to stake density. Stake density can be increased by depositing more xBZZ as stake (note that stake withdrawals are not currently possible, so any staked xBZZ is not currently recoverable).</p>
<p>Generally speaking, the minimum required stake of 10 xBZZ is sufficient, and rewards can be better maximized by operating more nodes over a greater range of neighborhoods rather than increasing stake. However this may not be true for all node operators depending on how many different neighborhoods they operate nodes in, and it also may change as network dynamics continue to evolve (join the <code>#node-operators</code> <a href="https://discord.com/channels/799027393297514537/811553590170353685" target="_blank" rel="noopener noreferrer">Discord channel</a> to stay up to date with the latest discussions about staking and network dynamics).</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="troubleshooting">Troubleshooting<a href="#troubleshooting" class="hash-link" aria-label="Direct link to Troubleshooting" title="Direct link to Troubleshooting">​</a></h2>
<p>In this section we cover several commonly seen issues encountered for staking nodes participating in the redistribution game. If you don&#x27;t see your issue covered here or require additional guidance, check out the <code>#node-operators</code> <a href="https://discord.com/channels/799027393297514537/811553590170353685" target="_blank" rel="noopener noreferrer">Discord channel</a> where you will find support from other node operators and community members.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="frozen-node">Frozen node<a href="#frozen-node" class="hash-link" aria-label="Direct link to Frozen node" title="Direct link to Frozen node">​</a></h3>
<p>A node will be frozen when the reserve commitment hash it submits in its <a href="/docs/learn/technology/incentives#storage-incentives-details"><code>commit</code> transaction</a> does not match the correct hash. The reserve commitment hash is used as proof that a node is storing the chunks it is responsible for. It will not be able to play in the redistribution game during the freezing period. See the  <a href="/docs/learn/technology/incentives#penalties">penalties</a> section for more information.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="check-frozen-status">Check frozen status<a href="#check-frozen-status" class="hash-link" aria-label="Direct link to Check frozen status" title="Direct link to Check frozen status">​</a></h4>
<p>You can check your node&#x27;s frozen status using the <code>/redistributionstate</code> endpoint:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">curl -X GET http://localhost:1633/redistributionstate | jq</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">{ </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;minimumFunds&quot;: &quot;18750000000000000&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;hasSufficientFunds&quot;: true,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;isFrozen&quot;: false,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;isFullySynced&quot;: true,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;phase&quot;: &quot;commit&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;round&quot;: 176319,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;lastWonRound&quot;: 176024,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;lastPlayedRound&quot;: 176182,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;lastFrozenRound&quot;: 0,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;block&quot;: 26800488,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;reward&quot;: &quot;10479124611072000&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;fees&quot;: &quot;30166618102500000&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The relevant fields here are <code>isFrozen</code> and <code>lastFrozenRound</code>, which respectively indicate whether the node is currently frozen and the last round in which the node was frozen.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="diagnosing-freezing-issues">Diagnosing freezing issues<a href="#diagnosing-freezing-issues" class="hash-link" aria-label="Direct link to Diagnosing freezing issues" title="Direct link to Diagnosing freezing issues">​</a></h4>
<p>In order to diagnose the cause of freezing issues we must compare our own node&#x27;s status to that of other nodes within the same neighborhood by comparing the results from our own node returned from the <code>/status</code> endpoint to the other nodes in the same neighborhood which can be found from the <code>/status/peers</code> endpoint.</p>
<p>First we check our own node&#x27;s status:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain"> curl -s localhost:1633/status | jq</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">  {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;peer&quot;: &quot;da7e5cc3ed9a46b6e7491d3bf738535d98112641380cbed2e9ddfe4cf4fc01c4&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;proximity&quot;: 0,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;beeMode&quot;: &quot;full&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;reserveSize&quot;: 3747532,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;pullsyncRate&quot;: 0,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;storageRadius&quot;: 10,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;connectedPeers&quot;: 183,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;neighborhoodSize&quot;: 12,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;batchCommitment&quot;: 133828050944,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;isReachable&quot;: true </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>And next we will find the status for all the other nodes in the same neighborhood as our own.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain"> curl -s  localhost:1633/status/peers | jq</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The <code>/status/peers</code> endpoint returns all the peers of our node, but we are only concerned with peers in the same neighborhood as our own node. Nodes whose <code>proximity</code> value is equal to or greater than our own node&#x27;s <code>storageRadius</code> value all fall into the same neighborhood as our node, so the rest have been omitted in the example output below:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">{ </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  ...</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;peer&quot;: &quot;da33f7a504a74094242d3e542475b49847d1d0f375e0c86bac1c9d7f0937acc0&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;proximity&quot;: 9,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;beeMode&quot;: &quot;full&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;reserveSize&quot;: 3782924,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;pullsyncRate&quot;: 0,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;storageRadius&quot;: 10,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;connectedPeers&quot;: 188,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;neighborhoodSize&quot;: 11,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;batchCommitment&quot;: 133828050944,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;isReachable&quot;: true</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  },</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;peer&quot;: &quot;da4b529cc1aedc62e31849cf7f8ab8c1866d9d86038b857d6cf2f590604387fe&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;proximity&quot;: 10,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;beeMode&quot;: &quot;full&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;reserveSize&quot;: 3719593,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;pullsyncRate&quot;: 0,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;storageRadius&quot;: 10,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;connectedPeers&quot;: 176,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;neighborhoodSize&quot;: 11,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;batchCommitment&quot;: 133828050944,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;isReachable&quot;: true</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  },</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;peer&quot;: &quot;da5d39a5508fadf66c8665d5e51617f0e9e5fd501e429c38471b861f104c1504&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;proximity&quot;: 10,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;beeMode&quot;: &quot;full&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;reserveSize&quot;: 3777241,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;pullsyncRate&quot;: 0,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;storageRadius&quot;: 10,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;connectedPeers&quot;: 198,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;neighborhoodSize&quot;: 12,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;batchCommitment&quot;: 133828050944,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;isReachable&quot;: true</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  },</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;peer&quot;: &quot;da4cb0d125bba638def55c0061b00d7c01ed4033fa193d6e53a67183c5488d73&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;proximity&quot;: 10,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;beeMode&quot;: &quot;full&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;reserveSize&quot;: 3849125,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;pullsyncRate&quot;: 0,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;storageRadius&quot;: 10,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;connectedPeers&quot;: 181,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;neighborhoodSize&quot;: 13,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;batchCommitment&quot;: 133828050944,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;isReachable&quot;: true</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  },</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;peer&quot;: &quot;da4b1cd5d15e061fdd474003b5602ab1cff939b4b9e30d60f8ff693141ede810&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;proximity&quot;: 10,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;beeMode&quot;: &quot;full&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;reserveSize&quot;: 3778452,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;pullsyncRate&quot;: 0,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;storageRadius&quot;: 10,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;connectedPeers&quot;: 183,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;neighborhoodSize&quot;: 12,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;batchCommitment&quot;: 133827002368,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;isReachable&quot;: true</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  },</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;peer&quot;: &quot;da49e6c6174e3410edad2e0f05d704bbc33e9996bc0ead310d55372677316593&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;proximity&quot;: 10,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;beeMode&quot;: &quot;full&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;reserveSize&quot;: 3779560,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;pullsyncRate&quot;: 0,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;storageRadius&quot;: 10,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;connectedPeers&quot;: 185,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;neighborhoodSize&quot;: 12,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;batchCommitment&quot;: 133828050944,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;isReachable&quot;: true</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  },</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;peer&quot;: &quot;da4cdab480f323d5791d3ab8d22d99147f110841e44a8991a169f0ab1f47d8e5&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;proximity&quot;: 10,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;beeMode&quot;: &quot;full&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;reserveSize&quot;: 3778518,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;pullsyncRate&quot;: 0,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;storageRadius&quot;: 10,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;connectedPeers&quot;: 189,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;neighborhoodSize&quot;: 11,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;batchCommitment&quot;: 133828050944,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;isReachable&quot;: true</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  },</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;peer&quot;: &quot;da4ccec79bc34b502c802415b0008c4cee161faf3cee0f572bb019b117c89b2f&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;proximity&quot;: 10,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;beeMode&quot;: &quot;full&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;reserveSize&quot;: 3779003,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;pullsyncRate&quot;: 0,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;storageRadius&quot;: 10,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;connectedPeers&quot;: 179,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;neighborhoodSize&quot;: 10,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;batchCommitment&quot;: 133828050944,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;isReachable&quot;: true</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  },</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;peer&quot;: &quot;da69d412b79358f84b7928d2f6b7ccdaf165a21313608e16edd317a5355ba250&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;proximity&quot;: 11,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;beeMode&quot;: &quot;full&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;reserveSize&quot;: 3712586,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;pullsyncRate&quot;: 0,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;storageRadius&quot;: 10,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;connectedPeers&quot;: 189,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;neighborhoodSize&quot;: 12,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;batchCommitment&quot;: 133827002368,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;isReachable&quot;: true</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  },</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;peer&quot;: &quot;da61967b1bd614a69e5e83f73cc98a63a70ebe20454ca9aafea6b57493e00a34&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;proximity&quot;: 11,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;beeMode&quot;: &quot;full&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;reserveSize&quot;: 3780190,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;pullsyncRate&quot;: 0,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;storageRadius&quot;: 10,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;connectedPeers&quot;: 182,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;neighborhoodSize&quot;: 13,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;batchCommitment&quot;: 133828050944,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;isReachable&quot;: true</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  },</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;peer&quot;: &quot;da7b6a268637cfd6799a9923129347fc3d564496ea79aea119e89c09c5d9efed&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;proximity&quot;: 13,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;beeMode&quot;: &quot;full&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;reserveSize&quot;: 3721494,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;pullsyncRate&quot;: 0,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;storageRadius&quot;: 10,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;connectedPeers&quot;: 188,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;neighborhoodSize&quot;: 14,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;batchCommitment&quot;: 133828050944,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;isReachable&quot;: true</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  },</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;peer&quot;: &quot;da7a974149543df1b459831286b42b302f22393a20e9b3dd9a7bb5a7aa5af263&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;proximity&quot;: 13,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;beeMode&quot;: &quot;full&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;reserveSize&quot;: 3852986,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;pullsyncRate&quot;: 0,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;storageRadius&quot;: 10,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;connectedPeers&quot;: 186,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;neighborhoodSize&quot;: 12,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;batchCommitment&quot;: 133828050944,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;isReachable&quot;: true</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">]</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Now that we have the status for our own node and all its neighborhood peers we can begin to diagnose the issue through a series of checks outlined below:</p>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_BuS1"><p>If you are able to identify and fix a problem with your node from the checklist below, it&#x27;s possible that your node&#x27;s reserve has become corrupted. Therefore, after fixing the problem, stop your node, and repair your node according to the instructions in the section following the checklist.</p></div></div>
<ol>
<li>
<p>Compare <code>reserveSize</code> with peers</p>
<p>The <code>reserveSize</code> value is the number of chunks stored by a node in its reserve. The value for <code>reserveSize</code> for a healthy node should be around +/- 1% the size of most other nodes in the neighborhood. In our example, for our node&#x27;s <code>reserveSize</code> of 3747532, it falls within that normal range. This does not guarantee our node has no missing or corrupted chunks, but it does indicate that it is generally storing the same chunks as its neighbors. If it falls outside this range, see the next section for instructions on repairing reserves.</p>
</li>
<li>
<p>Compare <code>batchCommitment</code> with peers</p>
<p>The <code>batchCommitment</code> value shows how many chunks would be stored if all postage batches were fully utilised. It also represents whether the node has fully synced postage batch data from on-chain. If your node&#x27;s <code>batchCommitment</code> value falls below that of its peers in the same neighborhood, it could indicate an issue with your blockchain RPC endpoint that is preventing it from properly syncing on-chain data. If you are running your own node, check your setup to make sure it is functioning properly, or check with your provider if you are using a 3rd party service for your RPC endpoint.</p>
</li>
<li>
<p>Check <code>pullsyncRate</code></p>
<p>The <code>pullsyncRate</code> value measures the speed at which a node is syncing chunks from its peers. Once a node is fully synced, <code>pullsyncRate</code> should go to zero. If <code>pullsyncRate</code> is above zero it indicates that your node is still syncing chunks, so you should wait until it goes to zero before doing any other checks. If <code>pullsyncRate</code> is at zero but your node&#x27;s <code>reserveSize</code> does not match its peers, you should check whether your network connection and RPC endpoint are stable and functioning properly. A node should be fully synced after several hours at most.</p>
</li>
<li>
<p>Check most recent <code>block</code> number</p>
<p>The <code>block</code> value returned from the <code>/redistributionstate</code> endpoint shows the most recent block a node has synced. If this number is far behind the actual more recent block then it indicates an issue with your RPC endpoint or network. If you are running your own node, check your setup to make sure it is functioning properly, or check with your provider if you are using a 3rd party service for your RPC endpoint.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">curl -X GET http://localhost:1633/redistributionstate | jq</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">{ </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;minimumFunds&quot;: &quot;18750000000000000&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;hasSufficientFunds&quot;: true,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;isFrozen&quot;: false,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;isFullySynced&quot;: true,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;phase&quot;: &quot;commit&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;round&quot;: 176319,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;lastWonRound&quot;: 176024,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;lastPlayedRound&quot;: 176182,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;lastFrozenRound&quot;: 0,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;block&quot;: 26800488,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;reward&quot;: &quot;10479124611072000&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;fees&quot;: &quot;30166618102500000&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>
<p>Check peer connectivity</p>
<p>Compare the value of your node&#x27;s <code>neighborhoodSize</code> from the <code>/status</code> endpoint and the <code>neighborhoodSize</code> of its peers in the same neighborhood from the <code>/status/peers</code> endpoint. The figure should be generally the same (although it may fluctuate slightly up or down at any one point in time). If your node&#x27;s <code>neighborhoodSize</code> value is significantly different and remains so over time then your node likely has a connectivity problem. Make sure to <a href="/docs/bee/installation/connectivity">check your network environment</a> to ensure your node is able to communicate with the network.</p>
</li>
</ol>
<p>If no problems are identified during these checks it likely indicates that your node was frozen in error and there are no additional steps you need to take.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="repairing-corrupt-reserve">Repairing corrupt reserve<a href="#repairing-corrupt-reserve" class="hash-link" aria-label="Direct link to Repairing corrupt reserve" title="Direct link to Repairing corrupt reserve">​</a></h3>
<p>If you have identified and fixed a problem causing your node to become frozen or have other reason to believe that your node&#x27;s reserves are corrupted then you should repair your node&#x27;s reserve using the <code>db repair-reserve</code> command.</p>
<p>First stop your node, and then run the following command:</p>
<div class="theme-admonition theme-admonition-caution admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>caution</div><div class="admonitionContent_BuS1"><p>Make sure to replace <code>/home/bee/.bee</code> with your node’s data directory if it differs from the one shown in the example. Make sure that the directory you specify is the root directory for your node’s data files, not the localstore directory itself. This is the same directory specified using the <code>data-dir</code> option in your node’s <a href="/docs/bee/working-with-bee/configuration/">configuration</a>.</p></div></div>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">bee db repair-reserve --data-dir=/home/bee/.bee</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>After the command has finished running, you may restart your node.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="node-occupies-unusually-large-space-on-disk">Node occupies unusually large space on disk<a href="#node-occupies-unusually-large-space-on-disk" class="hash-link" aria-label="Direct link to Node occupies unusually large space on disk" title="Direct link to Node occupies unusually large space on disk">​</a></h3>
<p>During normal operation of a Bee node, it should not take up more than ~30 GB of disk space. In the rare cases when the node&#x27;s occupied disk space grows larger, you may need to use the compaction <code>db compact</code> command.</p>
<div class="theme-admonition theme-admonition-danger admonition_xJq3 alert alert--danger"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"></path></svg></span>danger</div><div class="admonitionContent_BuS1"><p>To prevent any data loss, operators should run the compaction on a copy of the localstore directory and, if successful, replace the original localstore with the compacted copy.</p></div></div>
<p>The command is available as a sub-command under db as such (make sure to replace the value for <code>--data-dir</code> with the correct path to your bee node&#x27;s data folder if it differs from the path shown in the example):</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">bee db compact --data-dir=/home/bee/.bee</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="node-not-participating-in-redistribution">Node not participating in redistribution<a href="#node-not-participating-in-redistribution" class="hash-link" aria-label="Direct link to Node not participating in redistribution" title="Direct link to Node not participating in redistribution">​</a></h3>
<p>First check that the node is fully synced, is not frozen, and has sufficient funds to participate in staking. To check node sync status, call the <code>redistributionstate</code> endpoint:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">curl -X GET http://localhost:1633/redistributionstate | jq</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Response:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">{ </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;minimumFunds&quot;: &quot;18750000000000000&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;hasSufficientFunds&quot;: true,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;isFrozen&quot;: false,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;isFullySynced&quot;: true,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;phase&quot;: &quot;commit&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;round&quot;: 176319,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;lastWonRound&quot;: 176024,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;lastPlayedRound&quot;: 176182,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;lastFrozenRound&quot;: 0,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;block&quot;: 26800488,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;reward&quot;: &quot;10479124611072000&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;fees&quot;: &quot;30166618102500000&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Confirm that <code>hasSufficientFunds</code> is <code>true</code>, and <code>isFullySynced</code> is <code>true</code> before moving to the next step. If <code>hasSufficientFunds</code> if <code>false</code>, make sure to add at least the amount of xDAI shown in <code>minimumFunds</code> (unit of 1e-18 xDAI). If the node was recently installed and <code>isFullySynced</code> is <code>false</code>, wait for the node to fully sync before continuing. After confirming the node&#x27;s status, continue to the next step.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="run-sampler-process-to-benchmark-performance">Run sampler process to benchmark performance<a href="#run-sampler-process-to-benchmark-performance" class="hash-link" aria-label="Direct link to Run sampler process to benchmark performance" title="Direct link to Run sampler process to benchmark performance">​</a></h4>
<p>One of the most common issues affecting staking is the <code>sampler</code> process failing. The sampler is a resource intensive process which is run by nodes which are selected to take part in redistribution. The process may fail or time out if the node&#x27;s hardware specifications aren&#x27;t high enough. To check a node&#x27;s performance the <code>/rchash/{depth}/{anchor_01}/{anchor_02}</code> endpoint of the API may be used. The <code>anchor_01</code> and <code>anchor_02</code> must be a hex string with an even number of digits. For simplicity, you can just use <code>aaaa</code> for both anchors as we do in the example further down.</p>
<p>The <code>{anchor}</code> value can be set to any random hexadecimal string, while <code>{depth}</code> should be set to the current depth.</p>
<p>To get the current depth, call the <code>/reservestate</code> endpoint</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">sudo curl -sX GET http://localhost:1633/reservestate | jq</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Copy the <code>storageRadius</code> value from the output (this represents the ACTUAL depth for your node, in other words, the depth to which your node is responsible for storing files. The <code>radius</code> value is the hypothetical depth your node would be at if every postage batch was fully utilised.)</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">{</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;radius&quot;: 15,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;storageRadius&quot;: 10,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;commitment&quot;: 128332464128</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Call the endpoint like so:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">sudo curl -sX GET http://localhost:1633/rchash/10/aaaa/aaaa | jq</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>If the sampler runs successfully, you should see output like this:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">{</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;Sample&quot;: {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;Items&quot;: [</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      &quot;000003dac2b2f75842e410474dfa4c1e6e0b9970d81b57b33564c5620667ba96&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      &quot;00000baace30916f7445dbcc44d9b55cb699925acfbe157e4498c63bde834f40&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      &quot;0000126f48fb1e99e471efc683565e4b245703c922b9956f89cbe09e1238e983&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      &quot;000012db04a281b7cc0e6436a49bdc5b06ff85396fcb327330ca307e409d2a04&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      &quot;000014f365b1a381dda85bbeabdd3040fb1395ca9e222e72a597f4cc76ecf6c2&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      &quot;00001869a9216b3da6814a877fdbc31f156fc2e983b52bc68ffc6d3f3cc79af0&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      &quot;0000198c0456230b555d5261091cf9206e75b4ad738495a60640b425ecdf408f&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      &quot;00001a523bd1b688472c6ea5a3c87c697db64d54744829372ac808de8ec1d427&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    ],</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;Hash&quot;: &quot;7f7d93c6235855fedc34e32c6b67253e27910ca4e3b8f2d942efcd758a6d8829&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  },</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;Time&quot;: &quot;2m54.087909745s&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>If the <code>Time</code> value is higher than 6 minutes, then the hardware specifications for the node may need to be upgraded.</p>
<p>If there is an evictions related error such as the one below, try running the call to the <code>/rchash/</code> endpoint again.</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">error: &quot;level&quot;=&quot;error&quot; &quot;logger&quot;=&quot;node/storageincentives&quot; &quot;msg&quot;=&quot;make sample&quot; &quot;error&quot;=&quot;sampler: failed creating sample: sampler stopped due to ongoing evictions&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>While evictions are a normal part of Bee&#x27;s standard operation, the event of an eviction will interrupt the sampler process.</p>
<p>If you are still experiencing problems, you can find more help in the <a href="https://discord.gg/kHRyMNpw7t" target="_blank" rel="noopener noreferrer">node-operators</a> Discord channel (for your safety, do not accept advice from anyone sending a private message on Discord).</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/ethersphere/docs.github.io/blob/master/docs/bee/working-with-bee/staking.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/bee/working-with-bee/swarm-cli"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Swarm CLI</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/bee/working-with-bee/cashing-out"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Cashing Out</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#add-stake" class="table-of-contents__link toc-highlight">Add stake</a></li><li><a href="#check-redistribution-status" class="table-of-contents__link toc-highlight">Check redistribution status</a></li><li><a href="#maximize-rewards" class="table-of-contents__link toc-highlight">Maximize rewards</a><ul><li><a href="#neighborhood-selection" class="table-of-contents__link toc-highlight">Neighborhood selection</a></li><li><a href="#stake-density" class="table-of-contents__link toc-highlight">Stake density</a></li></ul></li><li><a href="#troubleshooting" class="table-of-contents__link toc-highlight">Troubleshooting</a><ul><li><a href="#frozen-node" class="table-of-contents__link toc-highlight">Frozen node</a></li><li><a href="#repairing-corrupt-reserve" class="table-of-contents__link toc-highlight">Repairing corrupt reserve</a></li><li><a href="#node-occupies-unusually-large-space-on-disk" class="table-of-contents__link toc-highlight">Node occupies unusually large space on disk</a></li><li><a href="#node-not-participating-in-redistribution" class="table-of-contents__link toc-highlight">Node not participating in redistribution</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Swarm Foundation</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://ethswarm.org" target="_blank" rel="noopener noreferrer" class="footer__link-item">Homepage</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://discord.gg/wdghaQsGq5" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://beehive.ethswarm.org/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Mattermost<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.reddit.com/r/ethswarm" target="_blank" rel="noopener noreferrer" class="footer__link-item">Reddit<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/ethswarm" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://blog.ethswarm.org/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Blog<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/ethersphere/bee" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyleft © 2024.</div></div></div></footer></div>
</body>
</html>