<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-learn/advanced/neighbourhoods" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.1.1">
<title data-rh="true">Neighbourhoods | Swarm Documentation</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://docs.ethswarm.org/docs/learn/advanced/neighbourhoods"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Neighbourhoods | Swarm Documentation"><meta data-rh="true" name="description" content="A neighbourhood is a group of nodes which are responsible for storing the same chunks of data. The nodes which make up a neighbourhood and the chunks which they are responsible for storing are determined by the node and chunk addresses. Node and chunk addresses follow the same format of a 256 bit hexadecimal number."><meta data-rh="true" property="og:description" content="A neighbourhood is a group of nodes which are responsible for storing the same chunks of data. The nodes which make up a neighbourhood and the chunks which they are responsible for storing are determined by the node and chunk addresses. Node and chunk addresses follow the same format of a 256 bit hexadecimal number."><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://docs.ethswarm.org/docs/learn/advanced/neighbourhoods"><link data-rh="true" rel="alternate" href="https://docs.ethswarm.org/docs/learn/advanced/neighbourhoods" hreflang="en"><link data-rh="true" rel="alternate" href="https://docs.ethswarm.org/docs/learn/advanced/neighbourhoods" hreflang="x-default"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.24/dist/katex.min.css" integrity="sha384-odtC+0UGzzFL/6PNoE8rX/SPcQDXBJ+uRepguP4QkPCm2LBxH3FA3y+fKSiJ+AmM" crossorigin="anonymous">
<script src="/matomo.js" async></script><link rel="stylesheet" href="/assets/css/styles.ea21a4ad.css">
<script src="/assets/js/runtime~main.79c94a08.js" defer="defer"></script>
<script src="/assets/js/main.91b3cad2.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"dark")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="Swarm Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/logo.svg" alt="Swarm Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate"></b></a><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link inter">Learn</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/learn/introduction">Introduction</a></li><li><a class="dropdown__link" href="/docs/learn/technology/what-is-swarm">Technology</a></li><li><a class="dropdown__link" href="/docs/learn/ecosystem/swarm-foundation">Ecosystem</a></li><li><a class="dropdown__link" href="/docs/learn/tokens">Tokens</a></li><li><a class="dropdown__link" href="/docs/learn/glossary">Glossary</a></li><li><a class="dropdown__link" href="/docs/learn/faq">FAQ </a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Desktop</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/desktop/introduction">Introduction</a></li><li><a class="dropdown__link" href="/docs/desktop/install">Install</a></li><li><a class="dropdown__link" href="/docs/desktop/configuration">Configuration</a></li><li><a class="dropdown__link" href="/docs/desktop/access-content">Access Content</a></li><li><a class="dropdown__link" href="/docs/desktop/postage-stamps">Postage Stamps</a></li><li><a class="dropdown__link" href="/docs/desktop/upload-content">Upload Content</a></li><li><a class="dropdown__link" href="/docs/desktop/backup-restore">Backup and Restore</a></li><li><a class="dropdown__link" href="/docs/desktop/publish-a-website">Publish a Static Website</a></li><li><a class="dropdown__link" href="/docs/desktop/start-a-blog">Start a Blog</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Bee</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/bee/installation/quick-start">Installation</a></li><li><a class="dropdown__link" href="/docs/bee/working-with-bee/introduction">Working With Bee</a></li><li><a class="dropdown__link" href="/docs/bee/bee-faq">Bee FAQ</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Develop</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/develop/introduction">Introduction</a></li><li><a class="dropdown__link" href="/docs/develop/access-the-swarm/introduction">Access the Swarm</a></li><li><a class="dropdown__link" href="/docs/develop/tools-and-features/introduction">Tools and Features</a></li><li><a class="dropdown__link" href="/docs/develop/contribute/introduction">Contribute to Bee Development</a></li></ul></div><a class="navbar__item navbar__link" href="/api/">API Reference</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/ethersphere/bee" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub repository"></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently dark mode)" aria-label="Switch between dark and light mode (currently dark mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><div class="navbar__search"><span aria-label="expand searchbar" role="button" class="search-icon" tabindex="0"></span><input id="search_input_react" type="search" placeholder="Loading..." aria-label="Search" class="navbar__search-input search-bar" disabled=""></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/learn/introduction">Introduction</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="true" href="/docs/learn/technology/what-is-swarm">Technology</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/learn/technology/what-is-swarm">What is Swarm?</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/learn/technology/disc">DISC</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/learn/technology/incentives">Incentives</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/learn/technology/pss">PSS</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/learn/technology/act">Access Control</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="true" tabindex="0" href="/docs/learn/technology/contracts/overview">Contracts</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/learn/technology/contracts/overview">Overview</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/learn/technology/contracts/chequebook">Chequebook</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/learn/technology/contracts/postage-stamp">Postage Stamp</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/learn/technology/contracts/price-oracle">Price Oracle</a></li></ul></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="true" href="/docs/learn/ecosystem/swarm-foundation">Ecosystem</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/learn/ecosystem/swarm-foundation">Foundation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/learn/ecosystem/fair-data-society">Fair Data Society</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/learn/ecosystem/community">Community</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/learn/ecosystem/grants-bounties">Grants and Bounties</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/learn/ecosystem/awesome">Awesome Swarm</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/docs/learn/advanced/erasure-cost-calculation">Advanced</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/learn/advanced/erasure-cost-calculation">Erasure Cost Calculation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/learn/advanced/neighbourhoods">Neighbourhoods</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/learn/tokens">Tokens</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/learn/glossary">Glossary</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/learn/faq">FAQ</a></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Advanced</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Neighbourhoods</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Neighbourhoods</h1></header><p>A neighbourhood is a group of nodes which are responsible for storing the same chunks of data. The nodes which make up a neighbourhood and the chunks which they are responsible for storing are determined by the node and chunk addresses. Node and chunk addresses follow the same format of a 256 bit hexadecimal number.</p>
<blockquote>
<p>Swarm address: <code>da7e5cc3ed9a46b6e7491d3bf738535d98112641380cbed2e9ddfe4cf4fc01c4</code></p>
</blockquote>
<p>Neighbourhoods are formed by nodes which share a certain number of leading bits in their addresses. The number of leading bits is variable and can increase as more data enters the network, this number is referred to as the <a href="/docs/learn/glossary#2b-storage-depth">storage depth</a> (the term &quot;radius&quot; is sometimes used as an alternative to depth, so you may see &quot;storage radius&quot; in some documentation). Nodes in a neighbourhood are responsible for storing chunks which share the same leading bits with the nodes in the neighbourhood up to the storage depth.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="example-neighbourhood">Example Neighbourhood<a href="#example-neighbourhood" class="hash-link" aria-label="Direct link to Example Neighbourhood" title="Direct link to Example Neighbourhood">​</a></h3>
<p>Let&#x27;s take a closer look at an example. Below is a neighbourhood of six nodes at depth 10. Each node is identified by its Swarm address, which is a 256 bit hexadecimal number derived from the node&#x27;s Gnosis Chain address, the Swarm network id, and a random nonce.</p>
<blockquote>
<p>da4cb0d125bba638def55c0061b00d7c01ed4033fa193d6e53a67183c5488d73
da5d39a5508fadf66c8665d5e51617f0e9e5fd501e429c38471b861f104c1504
da7a974149543df1b459831286b42b302f22393a20e9b3dd9a7bb5a7aa5af263
da76f8fccc3267b589d822f1c601b21b525fdc2598df97856191f9063029d21e
da7b6439c8d3803286b773a56c4b9a38776b5cd0beb8fd628b6007df235cf35c
da7fd412b79358f84b7928d2f6b7ccdaf165a21313608e16edd317a5355ba250</p>
</blockquote>
<p>Since we are only concerned with the leading binary bits close to the neighbourhood depth, for the rest of this example we will abbreviate the addresses to the first four prefixed hexadecimal digits only. Below are listed the hex prefixes and their binary representation, with the first ten leading bits underlined:</p>
<table><thead><tr><th>Hex prefix</th><th>Binary Bits</th></tr></thead><tbody><tr><td>da4c</td><td><u>1101101001</u>001100</td></tr><tr><td>da5d</td><td><u>1101101001</u>011101</td></tr><tr><td>da76</td><td><u>1101101001</u>110110</td></tr><tr><td>da7a</td><td><u>1101101001</u>111010</td></tr><tr><td>da7b</td><td><u>1101101001</u>111011</td></tr><tr><td>da7f</td><td><u>1101101001</u>111111</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="chunk-neighbourhood-assignment">Chunk Neighbourhood Assignment<a href="#chunk-neighbourhood-assignment" class="hash-link" aria-label="Direct link to Chunk Neighbourhood Assignment" title="Direct link to Chunk Neighbourhood Assignment">​</a></h3>
<p>Chunks are assigned to neighbourhoods based on their addresses, which are in the same 256 bit format as node addresses. Here are two example chunks which fall within our example neighbourhood:</p>
<blockquote>
<p>Chunk A address: <code>da49a42926015cd1e2bc552147c567b1ca13e8d4302c9e6026e79a24de328b65</code><br>
<!-- -->Chunk B address: <code>da696a3dfb0f7f952872eb33e0e2a1435c61f111ff361e64203b5348cc06dc8a</code></p>
</blockquote>
<p>As the address of the chunk shown above shares the same ten leading binary bits as the nodes in our example neighbourhood, it falls into that neighbourhood&#x27;s <a href="/docs/learn/glossary#2-area-of-responsibility-related-depths">area of responsibility</a>, and all the nodes in that neighbourhood are required to store that chunk:</p>
<blockquote>
<p>da49 --&gt; <u>1101101001</u>001001<br>
<!-- -->da69 --&gt; <u>1101101001</u>101001</p>
</blockquote>
<p><em>As with the example for nodes, we&#x27;ve abbreviated the chunk addresses to their leading four hexadecimal digits only and converted them to binary digits.</em></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="neighbourhood-doubling">Neighbourhood Doubling<a href="#neighbourhood-doubling" class="hash-link" aria-label="Direct link to Neighbourhood Doubling" title="Direct link to Neighbourhood Doubling">​</a></h3>
<p>As more and more chunks are assigned to neighbourhoods, the chunk reserves of the nodes in that neighbourhood will begin to fill up. Once the nodes&#x27; reserves in a neighbourhood become full and can no longer store additional chunks, that neighbourhood will split, with each half of the neighbourhood taking responsibility for half of the chunks. This event is referred to as a &quot;doubling&quot;, as it results in double the number of neighbourhoods. The split is done by increasing the storage depth by one, so that the number of shared leading bits is increased by one. This results in a binary splitting of the neighbourhood and associated chunks into two new neighbourhoods and respective groups of chunks.</p>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_BuS1"><p>Note that when chunks begin to expire and new chunks are not uploaded to Swarm, it is possible for node&#x27;s reserves to empty out, once they fall below a certain threshold, a &quot;halving&quot; will occur in which the storage depth will be decreased by one and two neighbourhoods will merge to make a new one so that they are responsible for a wider set of chunks.</p></div></div>
<p>Using our previous example neighbourhood, during a doubling, the storage depth would increase from 10 to 11, and the neighbourhood would be split based on the 11th leading bit.</p>
<p><strong>Neighbourhood A:</strong></p>
<table><thead><tr><th>Hex prefix</th><th>Binary Bits</th></tr></thead><tbody><tr><td>da4c</td><td><u>11011010010</u>01100</td></tr><tr><td>da5d</td><td><u>11011010010</u>11101</td></tr></tbody></table>
<p><strong>Neighbourhood B:</strong></p>
<table><thead><tr><th>Hex prefix</th><th>Binary Bits</th></tr></thead><tbody><tr><td>da76</td><td><u>11011010011</u>10110</td></tr><tr><td>da7a</td><td><u>11011010011</u>11010</td></tr><tr><td>da7b</td><td><u>11011010011</u>11011</td></tr><tr><td>da7f</td><td><u>11011010011</u>11111</td></tr></tbody></table>
<p>Each of our two example chunks will also be split amongst the two new neighbourhoods based on their 11th leading bit:</p>
<p><strong>Neighbourhood A:</strong></p>
<table><thead><tr><th>Hex prefix</th><th>Binary Bits</th></tr></thead><tbody><tr><td>da4c</td><td><u>11011010010</u>01100</td></tr><tr><td>da5d</td><td><u>11011010010</u>11101</td></tr><tr><td>da49 (chunk)</td><td><u>11011010010</u>01001</td></tr></tbody></table>
<p><strong>Neighbourhood B:</strong></p>
<table><thead><tr><th>Hex prefix</th><th>Binary Bits</th></tr></thead><tbody><tr><td>da76</td><td><u>11011010011</u>10110</td></tr><tr><td>da7a</td><td><u>11011010011</u>11010</td></tr><tr><td>da7b</td><td><u>11011010011</u>11011</td></tr><tr><td>da7f</td><td><u>11011010011</u>11111</td></tr><tr><td>da69 (chunk)</td><td><u>11011010011</u>01001</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="doubling-implications-for-node-operators">Doubling Implications for Node Operators<a href="#doubling-implications-for-node-operators" class="hash-link" aria-label="Direct link to Doubling Implications for Node Operators" title="Direct link to Doubling Implications for Node Operators">​</a></h3>
<p>One of the implications of doubling for node operators is that the reward chances for a node depends in part on how many other nodes are in its neighbourhood. If it is in a neighbourhood with fewer nodes, its chances of winning rewards are greater. Therefore node operators should make certain to place their nodes into less populated neighbourhoods, and also should look ahead to neighbourhoods at the next depth after a doubling. For more details about how to adjust node placement, see <a href="/docs/bee/installation/install#set-target-neighborhood-optional">the section on setting a target neighbourhood</a> in the installation guide.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/ethersphere/docs.github.io/blob/master/docs/learn/advanced/neighbourhoods.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/learn/advanced/erasure-cost-calculation"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Erasure Cost Calculation</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/learn/tokens"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Tokens</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#example-neighbourhood" class="table-of-contents__link toc-highlight">Example Neighbourhood</a></li><li><a href="#chunk-neighbourhood-assignment" class="table-of-contents__link toc-highlight">Chunk Neighbourhood Assignment</a></li><li><a href="#neighbourhood-doubling" class="table-of-contents__link toc-highlight">Neighbourhood Doubling</a></li><li><a href="#doubling-implications-for-node-operators" class="table-of-contents__link toc-highlight">Doubling Implications for Node Operators</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Swarm Foundation</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://ethswarm.org" target="_blank" rel="noopener noreferrer" class="footer__link-item">Homepage</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://discord.gg/wdghaQsGq5" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://beehive.ethswarm.org/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Mattermost<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.reddit.com/r/ethswarm" target="_blank" rel="noopener noreferrer" class="footer__link-item">Reddit<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/ethswarm" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://blog.ethswarm.org/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Blog<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/ethersphere/bee" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyleft © 2024.</div></div></div></footer></div>
</body>
</html>