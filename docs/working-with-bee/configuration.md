---
title: Configuration
id: configuration
---

Bee is a very flexible piece of software, and can be configured in a variety of
ways depending on your use case. This expanded section will cover
configuration in detail.

## Important Configuration Changes

:::important
Before starting Bee for the first time, there is _some_ configuration
to do! Make sure you consider updating the recommended
settings in the [installation guide](/docs/installation/install)!
:::

## Specifying Configuration

### Configuration Priority

Configuration is processed in the following ascending order of preference:

1. Command Line Arguments
2. Environment Variables
3. Configuration File

### Command Line Arguments

Run `bee start --help` in your Terminal to get the list of available command line arguments.

### Environment variables

Bee config may also be passed using environment variables.

Environment variables are set as variables in your operating system's
session or systemd configuration file. To set an environment variable,
type the following in your terminal session.

```bash
export VARIABLE_NAME=variableValue
```

Verify if it is correctly set by running `echo $VARIABLE_NAME`.

All available configuration options are available as `BEE` prefixed,
capitalised, and underscored environment variables.

e.g. `--api-addr` becomes `BEE_API_ADDR`.

### Configuration file

Bee can also be configured by providing a YAML configuration file using the `--config` flag.

```bash
bee start --config /home/<user>/bee-config.yaml
```

#### Automatically generate a config file

Configuration files can be easily generated by simply substituting the `start` command with `printconfig` when starting Bee using the command line.

```bash
bee printconfig &> bee-config.yaml
```

This produces the following file contents, showing the default
configuration of Bee:

```yaml
admin-password: ""
allow-private-cidrs: false
api-addr: :1633
block-hash: ""
block-time: "15"
bootnode: []
bootnode-mode: false
cache-capacity: "1000000"
cache-retrieval: true
chequebook-enable: true
clef-signer-enable: false
clef-signer-endpoint: ""
clef-signer-ethereum-address: ""
config: /root/.bee.yaml
cors-allowed-origins: []
data-dir: /root/.bee
db-block-cache-capacity: "33554432"
db-disable-seeks-compaction: false
db-open-files-limit: "200"
db-write-buffer-size: "33554432"
debug-api-addr: :1635
debug-api-enable: false
full-node: false
gateway-mode: false
help: false
mainnet: true
nat-addr: ""
network-id: "1"
p2p-addr: :1634
p2p-ws-enable: false
password: ""
password-file: ""
payment-early-percent: 50
payment-threshold: "100000000"
payment-tolerance-percent: 25
postage-stamp-address: ""
pprof-mutex: false
pprof-profile: false
price-oracle-address: ""
resolver-options: []
restricted: false
resync: false
static-nodes: []
swap-deployment-gas-price: ""
swap-enable: true
swap-endpoint: ""
swap-factory-address: ""
swap-initial-deposit: "10000000000000000"
swap-legacy-factory-addresses: []
token-encryption-key: ""
tracing-enable: false
tracing-endpoint: 127.0.0.1:6831
tracing-host: ""
tracing-port: ""
tracing-service-name: bee
transaction: ""
use-postage-snapshot: false
verbosity: info
warmup-time: 20m0s
welcome-message: ""
```

## Configuring Bee Installed Using a Package Manager

Bee node's installed using package managers `apt-get` or `yum` are
configured using a configuration file which is automatically generated
during the installation process.

To alter Bee's configuration, simply edit the configuration file as
desired, and restart your Bee service.

### Linux

```bash
sudo vi /etc/bee/bee.yaml
sudo systemctl restart bee
```

### MacOS

```bash
vi /usr/local/etc/swarm-bee/bee.yaml
brew services restart swarm-bee
```

## Configuration Options

Bee provides the following options to customise your node.

### Global

#### --config

_default_ `/home/<user>/.bee.yaml`

The location of a YAML configuration file containing configuration options. See [configuration](#configuration-file).

### Start

#### --admin-password

When the permission checks for the API is enabled then this option configure admin password that
is used to generate Bearer tokens.

**Be aware that you need to pass a bcrypt hash of the password here not the actual plaintext password!**

_default_ `""`

#### --allow-private-cidrs: false

_default_ `""`

#### --api-addr

_default_ `:1633`

The IP and port the API will serve HTTP requests from. Omitting the IP
part of the address will cause the server to listen to all
interfaces. Argument values are of the form '132.132.132.132:1633'.

#### --block-time

_default_ `15`

The expected block time of the attached SWAP endpoint.

#### --block-hash

_default_ `""`

The block hash of the block whose parent is the block that contains the transaction hash

#### --bootnode

_default_ `/dnsaddr/mainnet.ethswarm.org`

This is a [multiaddr](https://github.com/multiformats/multiaddr)
specifying the Bee bootnodes used for bootstrapping the network. It
can be multiple values.

By default a node connects to the Swarm mainnet. When using a private or test network, network specific bootnodes must be set.

Any Bee node in a network can act as a bootnode.

#### --bootnode-mode

_default_ `false`

Cause the node to always accept incoming connections

#### --cache-capacity

_default_ `1000000`

The amount of disk space, in chunks, that is used for forwarding and uploading chunks.

#### --cache-retrieval

_default_ `true`

Enable the caching of forwarded content.

#### --chequebook-enable

_default_ `true`

Enable chequebook.

#### --clef-signer-enable

_default_ `false`

Set this to true to enable signing using Ethereum's Clef external
signer. Clef is a new feature which requires a corresponding rules
files or running in advanced mode to allow for auto-signing of
handshakes and cheques.

#### --clef-signer-endpoint

_default_ **default path for clef for each host operating system**

You may also specify a custom IPC file path for your Clef signer.

#### --clef-signer-ethereum-address

_default_ **selects the clef address at index 0**

Use this command to specify which Bee Clef address is used if you have imported multiple keys into Bee Clef.

:::warning
If you have multiple addresses imported into your instance of Bee Clef, you must specify your address for each node, including the first one, as addresses may been re-ordered during import.
:::

#### --cors-allowed-origins

_default_ `[]`

HTTP/WS origin domains or wildcards defining these, which the API will
allow responses to, e.g.

```bash
bee start --cors-allowed-origins="*"
bee start --cors-allowed-origins="https://website.ethswarm.org"
```

#### --data-dir

_default_ `/home/<user>/.bee`

The location on your disk where Bee stores its data. Data in this
directory will be required to restore a node state using the same key.

This consists of the following three types of data.

##### 1. Chunk Data (localstore)

This consists of chunks and files that you have pinned locally, cached chunks you have requested, or chunks within your radius of responsibility which you are responsible for serving to your peers.

##### 2. State Data (statestore)

This is information about the local state of your Bee node and should be backed up.

##### 3. Keystore Data (keys)

These files contain encrypted versions of your private key and should be backed up and kept private.

:::danger
Keep the key files in your keystore data directory safe!

They are the cryptographic proof of your network identity and cannot be recovered.
:::

_The next four options expose low-level configurations for
[LevelDB](https://pkg.go.dev/github.com/syndtr/goleveldb@v1.0.0/leveldb/opt#Options)'s
Â [Openfile](https://pkg.go.dev/github.com/syndtr/goleveldb@v1.0.0/leveldb#OpenFile)
method. Please let us know how you get on with tweaking these settings
on your hardware in the
[#node-operators](https://discord.gg/X3ph5yGRFU) channel on our
[Discord server](https://discord.gg/wdghaQsGq5)_

#### --db-block-cache-capacity

_default_ `33554432`

Corresponds to LevelDB `BlockCacheCapacity` (see above)

#### --db-disable-seeks-compaction

_default_ `false`

Corresponds to LevelDB `DisableSeeksCompaction` (see above)

#### --db-open-files-limit

_default_ `200`

:::info
To accomodate less powerful hardware and operating systems, the `db-open-files-limit` is set deliberately low. We recommend that you try to increase it to nearer to `10000` or more if this is possible when using your hardware. _Please let us know how you get on with tweaking these settings on your hardware in the [#node-operators](https://discord.gg/X3ph5yGRFU) channel on our [Discord server](https://discord.gg/wdghaQsGq5)_
:::

Corresponds to LevelDB `OpenFilesCacheCapacity` (see above)

#### --db-write-buffer-size

_default_ `33554432`

Corresponds to LevelDB `WriteBuffer` (see above)

#### --debug-api-addr

_default_ `:1635`

The IP and port the [Debug API](/docs/api-reference/api-reference)
will serve HTTP requests from.

Omitting the IP part of the address will cause the server to listen to
all requests.

`--debug-api-enable` must be set to `true`.

#### --debug-api-enable

_default_ `false`

Set this to `true` to enable access to the [Debug API](/docs/api-reference/api-reference)

#### --full-node

_default_ false

Enable this by setting it to `true` to fully participate in serving and forwarding chunks to the network.

#### --gateway-mode

_default_ `false`

Set this to `true` to disable a set of sensitive features in the API
to ensure that it is safe to expose your `api-addr` to the public
Internet.

#### --mainnet

_default_ `true`

Set to `false` to connect to the Swarm testnet, or other
networks. Note that if you do so then you'll need to specify some
bootnodes using the [`--bootnode` argument](#--bootnode).

#### --nat-addr

_default_ `""`

Sets the expected public IP. Normally this is generated automatically, but in certain circumstances it may be desirable to set it manually.

Format is `123.123.123.123:1634` where the port number is your Bee p2p port.

#### --network-id

_default_ `1`  if `--mainnet=true`
_default_ `10` if `--mainnet=false`

The network ID for which to accept new connections. Set to 1 for mainnet, 10 for testnet.

#### --p2p-addr

_default_ `:1634`

The IP and port to listen for p2p protocol messages.

#### --p2p-ws-enable

_default_ `false`

Enables web-sockets transport for p2p communications.

#### --password

_default_ `""`

Password used to decrypt Swarm identity keys.

:::danger
Passing passwords as command line arguments is insecure. Use a password file or environment variable in production environments.
:::

#### --password-file

_default_ `""`

The path to a file that contains password for decrypting keys. The empty string assumes no file is presented.

#### --payment-early-percent

_default_ `50`

Percentage below the peers payment threshold when we initiate settlement.

#### --payment-threshold

_default_ `100000000`

The threshold in BZZ where you expect to get paid from your peers.

#### --payment-tolerance-percent

_default_ `25`

Excess debt above payment threshold as a percentage where you disconnect from your peer (default 25).

#### --postage-stamp-address

_default_ _automatically configured depending on network_

The address of the postage stamp contract on the Ethereum blockchain, used for buying batches of stamps.

#### --resolver-options

_default_ eth:0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e@localhost:8545

ENS API endpoint for a TLD, with contract address. Multiple values can be provided.

Settings should be provided in the format `[tld:][contract-addr@]url`

A default top level domain and resolver contract address are provided, but an ENS/Geth endpoint must be provided to enable this functionality.

#### --restricted

_default_ false

Enable permission check on certain http APIs. More information how to restrict the access
to the APIs is available [here](/docs/working-with-bee/security).

If enabled - you must specify an admin password using the `--admin-password` option and a `--token-encryption-key` string value.

To generate a valid admin password use the provided [bcrypt utility](/docs/working-with-bee/bcrypt)

#### --resync

_default_ false

Forces the node to resync postage contract data.

#### --static-nodes

_default_ []

Protect nodes from getting kicked out on bootnode

#### --swap-deployment-gas-price

_default_ _determined automatically_

Gas price in wei to use for deployment and funding

#### --swap-enable

_default_ `true`

#### --swap-endpoint

_default_ `""`

SWAP Gnosis Chain (mainnet) or Goerli (testnet) blockchain endpoint. Leave unset to boot in `ultra-light` (chainless) mode.

#### --swap-factory-address

_default_ _anointed contract for the current blockchain id_

#### --swap-initial-deposit

_default_ `10000000000000000`

#### --token-encryption-key

_default_

Admin username to get the security token.

#### --tracing-enable

_default_ `false`

Send tracing spans to the tracing service. More information how to
configure and visualize tracing data is available
[here](/docs/bee-developers/useful-dev-info#tracing).

#### --tracing-endpoint

_default_ `127.0.0.1:6831`

The URL where the tracing service listens for Thrift protocol UDP messages.

#### --tracing-host

_default_ `""`

Host to send tracing data.

#### --tracing-port

_default_ `""`

Port to send tracing data.

#### --tracing-service-name

_default_ `bee`

Bee service identifier in tracing spans.

#### --transaction

_default_ `""`

As a spam prevention measure, for nodes which deployed their
chequebook with v0.5.0 or before, specify `transaction` - [the
transaction hash of any Ethereum transaction on the XDAI
network](/docs/FAQ#how-can-i-find-a-transaction-hash-for-the---transaction-configuration-parameter)
sent from the Bee node's Ethereum address.

#### --verbosity

_default_ `info`

0=silent, 1=error, 2=warn, 3=info, 4=debug, 5=trace

#### --warmup-time

_default_ `20m0s`

Time to warmup the node before pull/push protocols can be kicked off.

#### --welcome-message

_default_ `""`

Custom welcome message to be displayed to peers on succesful connection.
